WEBVTT
Kind: captions
Language: zh-Hans

00:00:00.030 --> 00:00:04.020
嘿，大家都是山姆，所以您可能

00:00:02.429 --> 00:00:05.700
到目前为止已经看了几集

00:00:04.020 --> 00:00:07.140
了解了一些不同之处

00:00:05.700 --> 00:00:08.910
圣诞老人追踪器的路径及其运作方式

00:00:07.140 --> 00:00:10.860
但是我今天想做的是谈话

00:00:08.910 --> 00:00:12.719
关于你自己如何建造它

00:00:10.860 --> 00:00:14.099
以及如何才能真正了解

00:00:12.719 --> 00:00:16.619
签出源代码并运行

00:00:14.099 --> 00:00:18.359
自己的版本，让我们开始

00:00:16.619 --> 00:00:19.740
看看我们的命令行，我们已经

00:00:18.359 --> 00:00:21.449
查看圣诞老人追踪器，您知道我们已经

00:00:19.740 --> 00:00:23.670
去跳来跳去回购和

00:00:21.449 --> 00:00:25.050
让我们看看我们现在开始做什么

00:00:23.670 --> 00:00:26.519
检查出来，你可以看看

00:00:25.050 --> 00:00:28.230
我们这里有一些内容

00:00:26.519 --> 00:00:29.660
一堆东​​西，所以你可以开始

00:00:28.230 --> 00:00:32.460
通过基本运行纱线

00:00:29.660 --> 00:00:34.230
安装并因此包管理器

00:00:32.460 --> 00:00:35.910
你可以用自制酒或一些

00:00:34.230 --> 00:00:37.800
等价于您的计算机，它将

00:00:35.910 --> 00:00:39.120
然后去做一堆东西

00:00:37.800 --> 00:00:40.200
如果你看到这里很快

00:00:39.120 --> 00:00:42.149
因为我实际上已经检查了

00:00:40.200 --> 00:00:43.950
之前，所以它将去获取所有

00:00:42.149 --> 00:00:45.629
依赖之类的东西

00:00:43.950 --> 00:00:47.399
它实际上是在内部进行

00:00:45.629 --> 00:00:49.530
打电话给鲍尔包

00:00:47.399 --> 00:00:51.239
管理层说这有点老了

00:00:49.530 --> 00:00:53.309
仍然需要聚合物-我知道

00:00:51.239 --> 00:00:55.199
聚合物3正在升级到NPM， 

00:00:53.309 --> 00:00:56.730
存储库，但目前我们仍然需要

00:00:55.199 --> 00:00:59.609
安装Bower来检查所有

00:00:56.730 --> 00:01:01.649
代码，然后运行我们的构建工具

00:00:59.609 --> 00:01:03.690
使用gulp构建系统，以便

00:01:01.649 --> 00:01:05.400
我们在gulp中将执行的故障任务

00:01:03.690 --> 00:01:07.439
建立10个追踪器

00:01:05.400 --> 00:01:09.960
我们服务那个文件夹，所以如果我刚运行

00:01:07.439 --> 00:01:14.450
在这里服务并按Enter，然后加载

00:01:09.960 --> 00:01:14.450
并加载此URL，我们将看到

00:01:14.689 --> 00:01:18.869
需要几秒钟的时间来加载和圣诞老人

00:01:16.799 --> 00:01:21.090
追踪器将充满乐趣

00:01:18.869 --> 00:01:22.350
这个版本上令人兴奋的东西

00:01:21.090 --> 00:01:23.880
会比

00:01:22.350 --> 00:01:25.110
一堆的生产版本

00:01:23.880 --> 00:01:28.409
我会在某种程度上掩盖的原因

00:01:25.110 --> 00:01:30.060
几秒钟，因为我们是开发人员

00:01:28.409 --> 00:01:31.710
而且您知道我们可以访问圣诞老人的

00:01:30.060 --> 00:01:33.000
只要我们喜欢你就可以

00:01:31.710 --> 00:01:34.820
实际去点击这些场景

00:01:33.000 --> 00:01:38.720
看看发生了什么，所以我们可以知道

00:01:34.820 --> 00:01:38.720
剪掉圣诞老人的胡须之类的东西

00:01:39.180 --> 00:01:42.570
要考虑的一件事是

00:01:40.740 --> 00:01:44.220
场景会动态定位，因此如果我们加载

00:01:42.570 --> 00:01:46.229
开发工具，因此我们将看到我们的

00:01:44.220 --> 00:01:48.780
可爱的响应式设计，如果我们去

00:01:46.229 --> 00:01:52.259
在这里联网并设置速度

00:01:48.780 --> 00:01:53.460
快速的3G我们可以看到负载发生了

00:01:52.259 --> 00:01:55.380
我们实际上加载了圣诞老人自拍照

00:01:53.460 --> 00:01:56.670
场景，这样可以很好地加载

00:01:55.380 --> 00:01:59.549
让我们去一个尚未加载的场景

00:01:56.670 --> 00:02:01.439
但这可能是礼物的弹弓

00:01:59.549 --> 00:02:03.149
我喜欢这个场景，我称之为

00:02:01.439 --> 00:02:06.509
那是一个实际的ID 

00:02:03.149 --> 00:02:08.670
因为它实际上很小

00:02:06.509 --> 00:02:10.560
不太复杂，但大多数

00:02:08.670 --> 00:02:11.940
常规圣诞老人场景中的事情

00:02:10.560 --> 00:02:13.890
会做的，我们让您知道每一件事

00:02:11.940 --> 00:02:17.160
这些村庄里的房子

00:02:13.890 --> 00:02:19.230
这就是我们所说的场景，所以让我们点击

00:02:17.160 --> 00:02:20.370
现在，您可以注意到的是

00:02:19.230 --> 00:02:22.080
我们实际上是在

00:02:20.370 --> 00:02:23.850
在这里顶部，然后慢慢移动

00:02:22.080 --> 00:02:25.590
屏幕具有所有资源

00:02:23.850 --> 00:02:27.480
在右边这里被加载到

00:02:25.590 --> 00:02:29.940
页面，这是一个很小的

00:02:27.480 --> 00:02:32.610
场景，因此即使在

00:02:29.940 --> 00:02:37.290
连接缓慢我们也可以玩这个

00:02:32.610 --> 00:02:41.490
游戏，那么我们如何到达这些场景

00:02:37.290 --> 00:02:44.310
我们去看代码，看看圣诞老人的应用程序

00:02:41.490 --> 00:02:46.440
点HTML，这是一个聚合物元素， 

00:02:44.310 --> 00:02:48.210
我们在聚合物中又发生了一次

00:02:46.440 --> 00:02:49.860
我不会在

00:02:48.210 --> 00:02:51.690
中间这就是我们所说的懒惰

00:02:49.860 --> 00:02:53.640
 pages元素，此元素是

00:02:51.690 --> 00:02:56.640
完全旨在将这些页面加载到

00:02:53.640 --> 00:02:58.080
运行时足够有趣的是这些

00:02:56.640 --> 00:02:59.610
加载时页面上没有场景

00:02:58.080 --> 00:03:01.290
圣诞老人追踪器本质上是这些

00:02:59.610 --> 00:03:03.450
您的浏览器中未知的HTML元素

00:03:01.290 --> 00:03:05.580
不知道如何呈现懒惰

00:03:03.450 --> 00:03:07.770
页面所做的就是当路线

00:03:05.580 --> 00:03:09.930
要加载时更改为该URL 

00:03:07.770 --> 00:03:11.670
例如船载场景

00:03:09.930 --> 00:03:15.209
去发现还可以，这是船负载

00:03:11.670 --> 00:03:18.180
场景很酷，路径是这个HTML 

00:03:15.209 --> 00:03:19.920
然后包含语言字段的路径

00:03:18.180 --> 00:03:21.720
将其加载到页面中

00:03:19.920 --> 00:03:23.070
加载后我们可以显示该场景

00:03:21.720 --> 00:03:25.739
因为所有与之相关的资源

00:03:23.070 --> 00:03:28.500
该元素现在在页面上，所以如果

00:03:25.739 --> 00:03:29.670
您会注意到我们也将其打开

00:03:28.500 --> 00:03:31.110
这里需要注意的几件事

00:03:29.670 --> 00:03:34.350
首先是我们引入了

00:03:31.110 --> 00:03:35.850
场景的JavaScript，因此当您

00:03:34.350 --> 00:03:37.230
首先建立并检查机架

00:03:35.850 --> 00:03:39.540
您的构建可能仍在运行

00:03:37.230 --> 00:03:41.880
因为我们实际上会编译每个场景

00:03:39.540 --> 00:03:43.230
 JavaScript与闭包编译器

00:03:41.880 --> 00:03:44.519
我们这样做的原因实际上是因为

00:03:43.230 --> 00:03:46.860
很多场景都比较老

00:03:44.519 --> 00:03:48.900
他们通常早于大多数

00:03:46.860 --> 00:03:50.130
场景早于聚合物，还有一些

00:03:48.900 --> 00:03:51.780
很现代的场景

00:03:50.130 --> 00:03:53.459
建造起来有些不同

00:03:51.780 --> 00:03:54.570
我们的游戏写得很公平

00:03:53.459 --> 00:03:56.070
通常他们并不在乎

00:03:54.570 --> 00:03:57.930
聚合物，实际上有一种

00:03:56.070 --> 00:04:00.750
聚合物的强度很高

00:03:57.930 --> 00:04:02.930
将HTML和JavaScript包装在一个

00:04:00.750 --> 00:04:04.920
在这个文件中非常整齐的方式

00:04:02.930 --> 00:04:06.690
所以这个场景是由一堆

00:04:04.920 --> 00:04:08.190
东西有一个模板

00:04:06.690 --> 00:04:09.870
包括我们的内在风格

00:04:08.190 --> 00:04:11.850
关心它也有一堆div 

00:04:09.870 --> 00:04:13.590
以及树木和精灵等元素

00:04:11.850 --> 00:04:15.299
像这样的东西是可爱的东西

00:04:13.590 --> 00:04:18.720
你会看到周围的弹弓

00:04:15.299 --> 00:04:20.280
东西往下一点

00:04:18.720 --> 00:04:23.250
我们有一个非常有趣的消息

00:04:20.280 --> 00:04:25.350
这是一个国际化的信息

00:04:23.250 --> 00:04:27.810
生产我们实际上删除了这个div 

00:04:25.350 --> 00:04:31.020
完全我们换成

00:04:27.810 --> 00:04:32.940
或适合的讯息

00:04:31.020 --> 00:04:34.320
您的语言，但在开发人员中，它就住在这里

00:04:32.940 --> 00:04:35.970
这样我们就可以迅速削减线路开关

00:04:34.320 --> 00:04:37.830
您实际看到的语言

00:04:35.970 --> 00:04:40.800
到站点，我们去控制台

00:04:37.830 --> 00:04:44.430
键入document.documentelement点lang 

00:04:40.800 --> 00:04:45.810
等于说德语和一些

00:04:44.430 --> 00:04:47.310
几秒钟后，我们看到了所有语言

00:04:45.810 --> 00:04:49.740
东西发生变化，我们的方式是

00:04:47.310 --> 00:04:51.060
在该元素内但在生产中

00:04:49.740 --> 00:04:52.260
我们实际上已经摆脱了这个因素

00:04:51.060 --> 00:04:54.930
如果您好奇如何

00:04:52.260 --> 00:04:59.340
我们这样做是为了让您真正负担

00:04:54.930 --> 00:05:00.960
在此处编写替换脚本的脚本，依此类推

00:04:59.340 --> 00:05:04.830
我们环顾一下我们的工作是

00:05:00.960 --> 00:05:06.630
实际将每个页面加载到内存中

00:05:04.830 --> 00:05:08.820
这是这里的变异函数， 

00:05:06.630 --> 00:05:10.560
我们会定期查询选择器

00:05:08.820 --> 00:05:14.520
对于所有带有消息ID或

00:05:10.560 --> 00:05:16.350
带有这个标签名称的所有内容都可以

00:05:14.520 --> 00:05:17.669
这实际上是错误的哦，我明白了

00:05:16.350 --> 00:05:18.810
因为每种方法都有该消息ID 

00:05:17.669 --> 00:05:20.610
所以我们先在这里抓

00:05:18.810 --> 00:05:23.100
很好地取代了内容

00:05:20.610 --> 00:05:24.120
该语言的消息ID，因此

00:05:23.100 --> 00:05:26.940
这很酷，这是我们的一部分

00:05:24.120 --> 00:05:29.100
以及建立流程，最后

00:05:26.940 --> 00:05:30.630
让我们来谈一谈吞咽，所以我

00:05:29.100 --> 00:05:32.550
前面提到我们使用口香糖

00:05:30.630 --> 00:05:34.950
建立东西，我们也可以用gulp来

00:05:32.550 --> 00:05:37.110
服务事物，所以如果我们输入gulp服务

00:05:34.950 --> 00:05:38.760
在这里或实际上看到它会做同样的事情

00:05:37.110 --> 00:05:40.260
我们将执行此默认编译步骤

00:05:38.760 --> 00:05:42.900
这又很快发生了

00:05:40.260 --> 00:05:44.340
对我来说，他们实际上会经营一个网络

00:05:42.900 --> 00:05:45.720
服务器，所以这是最好的一种

00:05:44.340 --> 00:05:47.640
运行它以及测试和跟踪的方式

00:05:45.720 --> 00:05:49.740
你自己，这个服务命令

00:05:47.640 --> 00:05:52.950
我们也会自动加载，所以如果我

00:05:49.740 --> 00:05:55.590
改变一些东西，比如说我改变了

00:05:52.950 --> 00:05:58.440
船载场景只有一些文字

00:05:55.590 --> 00:06:00.840
你好，然后你会看到的是

00:05:58.440 --> 00:06:01.889
此页面将自动重新加载并

00:06:00.840 --> 00:06:03.360
实际上你想要什么

00:06:01.889 --> 00:06:05.180
场景，但是如果我们将其加载，则可以进行排序

00:06:03.360 --> 00:06:07.440
看到那个文本现在出现在那里哦

00:06:05.180 --> 00:06:09.360
我们在角落里很巧妙地走了

00:06:07.440 --> 00:06:10.530
大家好，希望你已经

00:06:09.360 --> 00:06:12.780
学会了一些关于你的方式

00:06:10.530 --> 00:06:15.660
甚至可以构建和测试圣诞老人追踪器

00:06:12.780 --> 00:06:18.030
你自己的机器，所以圣诞老人追踪器是

00:06:15.660 --> 00:06:20.190
大型复杂的单页应用程序

00:06:18.030 --> 00:06:21.960
它确实有一个入口点，然后

00:06:20.190 --> 00:06:23.430
它在我们加载这些单独的场景时

00:06:21.960 --> 00:06:25.229
需要它们，这在

00:06:23.430 --> 00:06:27.210
本身，如果你想学一点

00:06:25.229 --> 00:06:28.560
进一步了解并建立

00:06:27.210 --> 00:06:29.130
如何运行和构建说明

00:06:28.560 --> 00:06:31.710
没有卡车司机

00:06:29.130 --> 00:06:33.180
我下面的文章下面有一些链接

00:06:31.710 --> 00:06:35.370
链接到我最后写的文章

00:06:33.180 --> 00:06:37.380
谈论圣诞老人追踪器的年份

00:06:35.370 --> 00:06:38.760
被制作成一个渐进式网络应用程序， 

00:06:37.380 --> 00:06:40.680
当然，这有点

00:06:38.760 --> 00:06:41.580
实际上涵盖了一个不同的主题

00:06:40.680 --> 00:06:44.940
关于一点

00:06:41.580 --> 00:06:47.190
这很重要，因为作为PWA 

00:06:44.940 --> 00:06:48.509
我们关心离线和缓存等

00:06:47.190 --> 00:06:50.099
我们做的一件有趣的事是

00:06:48.509 --> 00:06:52.349
我们只捕捉用户拥有的场景

00:06:50.099 --> 00:06:54.060
曾经去过，并且匹配方式

00:06:52.349 --> 00:06:55.770
我们只加载这些用户需要的场景

00:06:54.060 --> 00:06:58.409
他们而不是整个网站

00:06:55.770 --> 00:07:00.479
立即感谢您的收看，我会

00:06:58.409 --> 00:07:01.979
下次见，谢谢收看

00:07:00.479 --> 00:07:03.720
您可以订阅谷歌浏览器

00:07:01.979 --> 00:07:07.250
开发者渠道请点击此处

00:07:03.720 --> 00:07:07.250
还有一些其他很棒的视频

