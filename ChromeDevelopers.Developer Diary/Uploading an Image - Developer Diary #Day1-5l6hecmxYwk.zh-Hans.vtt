WEBVTT
Kind: captions
Language: zh-Hans

00:00:00.030 --> 00:00:02.939
大家好，我又来了

00:00:01.860 --> 00:00:04.470
谈论更多有关该应用程序的信息

00:00:02.939 --> 00:00:05.970
我一直在建立我们已经

00:00:04.470 --> 00:00:07.950
了解您可以观看的应用程序

00:00:05.970 --> 00:00:09.320
上一个视频中的介绍和

00:00:07.950 --> 00:00:12.420
现在说明中有一个链接

00:00:09.320 --> 00:00:14.250
这是一个相机应用程序，可以直接访问

00:00:12.420 --> 00:00:17.699
相机是一个相当新的功能

00:00:14.250 --> 00:00:20.130
在现代浏览器中可用，但是

00:00:17.699 --> 00:00:21.689
在较旧的浏览器中没有那么多

00:00:20.130 --> 00:00:24.470
对于甚至没有相机的人

00:00:21.689 --> 00:00:27.480
例如他们在台式机上的人

00:00:24.470 --> 00:00:30.599
那么我们如何逐步增强

00:00:27.480 --> 00:00:32.880
拍摄图像或最简单的图像之一

00:00:30.599 --> 00:00:33.960
我们可以做的就是使用一个

00:00:32.880 --> 00:00:36.420
实际托管的图片

00:00:33.960 --> 00:00:39.030
在网络上的其他地方获取

00:00:36.420 --> 00:00:42.059
因此，如果我们要从URL拍摄图像

00:00:39.030 --> 00:00:45.360
该代码非常简单，我们只是

00:00:42.059 --> 00:00:47.430
需要一些输入来获取URL，然后

00:00:45.360 --> 00:00:49.590
在这种情况下的某种动作

00:00:47.430 --> 00:00:52.350
按钮说我们想实际去

00:00:49.590 --> 00:00:56.520
 URL，然后我们将

00:00:52.350 --> 00:01:00.690
图像的来源是什么

00:00:56.520 --> 00:01:03.840
用户输入的内容，因此我有一个测试图像网址

00:01:00.690 --> 00:01:08.159
在这里，我像他们走了一样立足于

00:01:03.840 --> 00:01:11.430
图片在页面上，这是一个非常非常

00:01:08.159 --> 00:01:13.740
这样做的简单方法确实有一个

00:01:11.430 --> 00:01:17.939
尽管有两个大问题

00:01:13.740 --> 00:01:20.070
如果服务器认为该图像

00:01:17.939 --> 00:01:22.259
托管于不支持原因

00:01:20.070 --> 00:01:23.880
标头或未发送正确的原因

00:01:22.259 --> 00:01:25.619
标头，那么您实际上将无法

00:01:23.880 --> 00:01:27.720
编辑此图像，您仍然可以

00:01:25.619 --> 00:01:30.420
将其显示在页面中，但我们

00:01:27.720 --> 00:01:32.909
制作照片编辑应用程序

00:01:30.420 --> 00:01:34.860
所以我们需要能够达到这些目标

00:01:32.909 --> 00:01:36.390
像素并以某种方式对其进行转换

00:01:34.860 --> 00:01:41.640
没有原因就没有去

00:01:36.390 --> 00:01:43.770
碰巧你可以解决

00:01:41.640 --> 00:01:46.020
使用代理服务器，以便您自己运行

00:01:43.770 --> 00:01:47.850
服务器，您通过获取所有URL 

00:01:46.020 --> 00:01:49.829
这样您就可以向

00:01:47.850 --> 00:01:51.750
 URL的服务器，然后是服务器

00:01:49.829 --> 00:01:55.860
消失并向

00:01:51.750 --> 00:01:57.770
真正的服务器，然后在

00:01:55.860 --> 00:02:00.750
图像通过该链返回，但是

00:01:57.770 --> 00:02:02.790
有点，有点

00:02:00.750 --> 00:02:04.649
对于我们在这里想要做的事情来说过分

00:02:02.790 --> 00:02:06.270
您必须运行自己的服务器

00:02:04.649 --> 00:02:08.700
可以处理您所有的流量

00:02:06.270 --> 00:02:11.069
用户只需要您想要的东西

00:02:08.700 --> 00:02:13.680
在浏览器内部进行操作，如何

00:02:11.069 --> 00:02:16.290
我们可以改善使用

00:02:13.680 --> 00:02:19.430
用户提供的网址很好，我们可以

00:02:16.290 --> 00:02:22.560
使用文件输入并让用户

00:02:19.430 --> 00:02:24.689
直接将照片上传给我们，因此

00:02:22.560 --> 00:02:26.189
类型文件的输入，告诉

00:02:24.689 --> 00:02:30.870
浏览器，它应该提示用户

00:02:26.189 --> 00:02:32.579
给我们一个文件，传统上是这样

00:02:30.870 --> 00:02:35.010
以便可以上传该文件

00:02:32.579 --> 00:02:36.889
到服务器作为表单的一部分，但是

00:02:35.010 --> 00:02:39.629
现代浏览器，我们可以将文件

00:02:36.889 --> 00:02:40.739
从输入中并在客户端中使用它

00:02:39.629 --> 00:02:43.700
而不实际发送给

00:02:40.739 --> 00:02:46.950
服务器，现在我们可以再次增强它

00:02:43.700 --> 00:02:50.189
第一个增强是说我们

00:02:46.950 --> 00:02:52.560
接受图片，所以我们在这里使用接受

00:02:50.189 --> 00:02:55.650
属性，我们传入一个mime类型或

00:02:52.560 --> 00:02:58.230
在这种情况下，我们使用通配符mime类型

00:02:55.650 --> 00:03:01.139
说开始斜杠说我们要

00:02:58.230 --> 00:03:04.799
用户给我们一张图片，以便浏览器

00:03:01.139 --> 00:03:08.310
然后可以用文件提示用户

00:03:04.799 --> 00:03:11.849
输入只给他们图像，所以如果

00:03:08.310 --> 00:03:14.609
我们打开这里看到的是

00:03:11.849 --> 00:03:19.040
只向我显示图像

00:03:14.609 --> 00:03:21.629
我的桌面现在文件输入有一个

00:03:19.040 --> 00:03:24.419
改变事件，我们可以听

00:03:21.629 --> 00:03:26.729
每当用户更改内容时

00:03:24.419 --> 00:03:28.290
在该文件中选择输入此事件

00:03:26.729 --> 00:03:31.169
将被触发，在这里我只是

00:03:28.290 --> 00:03:33.540
登录到控制台的输出是什么

00:03:31.169 --> 00:03:35.579
那是我们的文件对象

00:03:33.540 --> 00:03:39.870
输入，所以在我们的处理程序中

00:03:35.579 --> 00:03:41.099
目标是

00:03:39.870 --> 00:03:42.569
事件实际上将是

00:03:41.099 --> 00:03:45.030
文件输入，我们正在研究这个

00:03:42.569 --> 00:03:46.799
文件属性，有一段时间我只是

00:03:45.030 --> 00:03:49.229
在控制台上删除它，你

00:03:46.799 --> 00:03:51.590
可以看到这是一个文件列表，我们将

00:03:49.229 --> 00:03:53.579
稍后了解有关文件列表的更多信息

00:03:51.590 --> 00:03:55.919
你是接受的好东西

00:03:53.579 --> 00:03:57.870
属性是它允许移动浏览器

00:03:55.919 --> 00:03:59.909
浏览器知道他们可以向我们发送

00:03:57.870 --> 00:04:03.989
直接从相机拍照，如果他们

00:03:59.909 --> 00:04:05.759
想这样当他们弹出

00:04:03.989 --> 00:04:07.889
选择器以及提供能力

00:04:05.759 --> 00:04:10.109
上传文件，他们还给

00:04:07.889 --> 00:04:12.930
有机会说你想

00:04:10.109 --> 00:04:14.549
从相机拍摄照片，这将

00:04:12.930 --> 00:04:16.709
直接转到本地相机应用程序， 

00:04:14.549 --> 00:04:19.109
允许用户在那里拍照

00:04:16.709 --> 00:04:21.900
然后可以传递到您的

00:04:19.109 --> 00:04:24.300
出色的应用程序，这几乎

00:04:21.900 --> 00:04:26.669
我们想要我们自己的应用程序有一个

00:04:24.300 --> 00:04:27.240
这是我们的最终可能性

00:04:26.669 --> 00:04:29.610
可以添加一个

00:04:27.240 --> 00:04:34.110
我们可以添加自然记录捕获

00:04:29.610 --> 00:04:36.210
因此我们默认在此处添加捕获

00:04:34.110 --> 00:04:38.669
如果你只是捕捉说

00:04:36.210 --> 00:04:41.520
我想去摄影机

00:04:38.669 --> 00:04:43.740
直接在移动浏览器上这样

00:04:41.520 --> 00:04:46.889
将弹出本地相机应用

00:04:43.740 --> 00:04:49.979
没有先提供选择器

00:04:46.889 --> 00:04:52.610
如果你真的只想要照片直

00:04:49.979 --> 00:04:55.560
从相机完美是您跳过的一步

00:04:52.610 --> 00:04:56.009
但是有一点问题

00:04:55.560 --> 00:04:58.080
这里

00:04:56.009 --> 00:05:01.800
您无法检测到

00:04:58.080 --> 00:05:05.159
捕获将执行此操作

00:05:01.800 --> 00:05:07.259
表示在桌面浏览器上

00:05:05.159 --> 00:05:09.360
将提示输入文件，因为

00:05:07.259 --> 00:05:11.370
这就是文件输入所做的，而

00:05:09.360 --> 00:05:13.740
在移动浏览器上，您只会

00:05:11.370 --> 00:05:15.569
提示输入来自相机的图像

00:05:13.740 --> 00:05:17.280
两者之间并不平等

00:05:15.569 --> 00:05:19.259
如果移动用户想要上传怎么办

00:05:17.280 --> 00:05:21.360
 SD卡上的文件

00:05:19.259 --> 00:05:23.370
例如，如果您要使用

00:05:21.360 --> 00:05:25.500
捕获属性实际上有一个

00:05:23.370 --> 00:05:27.870
您可以做的几件额外的事情是

00:05:25.500 --> 00:05:30.780
您可以将其设置为两个值之一

00:05:27.870 --> 00:05:34.530
说出您想要哪种相机，以便您

00:05:30.780 --> 00:05:36.389
可以将其设置为用户，说

00:05:34.530 --> 00:05:39.090
您想让相机面对

00:05:36.389 --> 00:05:40.409
用户，所以这是您的自拍相机或

00:05:39.090 --> 00:05:43.289
您可以将其设置为等于捕获

00:05:40.409 --> 00:05:45.000
说你想要的环境

00:05:43.289 --> 00:05:46.620
面对环境的相机，即

00:05:45.000 --> 00:05:48.870
背对镜头的普通相机

00:05:46.620 --> 00:05:50.729
用户，如果设备恰好只有

00:05:48.870 --> 00:05:52.169
一台相机，它仍然会给你

00:05:50.729 --> 00:05:54.570
它确实拥有的相机

00:05:52.169 --> 00:05:56.849
设置首选项，以便accept标头

00:05:54.570 --> 00:05:58.500
和capture属性给我们一个

00:05:56.849 --> 00:06:00.840
几种增强体验的方法

00:05:58.500 --> 00:06:02.340
对于移动用户，让我们来看一些

00:06:00.840 --> 00:06:07.050
我们可以为桌面增强功能的方法

00:06:02.340 --> 00:06:08.430
用户以及相当公平的一件事

00:06:07.050 --> 00:06:10.050
在台式机上常见的

00:06:08.430 --> 00:06:11.490
不会做移动是拖放

00:06:10.050 --> 00:06:14.969
网络也对此提供了支持

00:06:11.490 --> 00:06:18.509
所以在这里我们设置了要删除的目标

00:06:14.969 --> 00:06:20.250
在目标上只是一个发展而已

00:06:18.509 --> 00:06:25.199
可能几乎是您的任何元素

00:06:20.250 --> 00:06:27.240
喜欢，我们设置了这个drop事件

00:06:25.199 --> 00:06:29.039
聆听者，以便当某件事是

00:06:27.240 --> 00:06:30.569
放到元素上，我们应该怎么做

00:06:29.039 --> 00:06:32.280
做得好，我们应该停止传播

00:06:30.569 --> 00:06:34.259
因为我们实际上是在处理它

00:06:32.280 --> 00:06:37.110
我们的元素在这里，我们应该防止

00:06:34.259 --> 00:06:39.330
默认值-如果我仅拖动此图像

00:06:37.110 --> 00:06:40.590
进入浏览器而不是元素

00:06:39.330 --> 00:06:43.740
只是加载

00:06:40.590 --> 00:06:48.270
图片进入标签页，并且不再存在

00:06:43.740 --> 00:06:50.310
我们的页面，我们不希望这样

00:06:48.270 --> 00:06:52.740
发生这样的事情，以便我们一放下

00:06:50.310 --> 00:06:54.750
在我们的元素上，我们触发了事件

00:06:52.740 --> 00:06:56.520
但随后它将导航图像，因此我们

00:06:54.750 --> 00:07:00.510
防止默认行为

00:06:56.520 --> 00:07:03.780
这里再次只是注销结果

00:07:00.510 --> 00:07:06.510
此事件是拖动事件

00:07:03.780 --> 00:07:08.430
有一个数据传输对象的游戏

00:07:06.510 --> 00:07:10.320
我们将谈论这个，并且有一个

00:07:08.430 --> 00:07:13.620
 files属性又是一个文件

00:07:10.320 --> 00:07:15.990
文件列表，所以如果我将其拖动到

00:07:13.620 --> 00:07:19.220
我们可以在这里看到的元素

00:07:15.990 --> 00:07:21.780
文件列表对象，现在我有另一个

00:07:19.220 --> 00:07:24.480
事件侦听器在此处向下拖动

00:07:21.780 --> 00:07:27.360
这说应该发生什么

00:07:24.480 --> 00:07:29.550
您正在拖动，而您正在拖动

00:07:27.360 --> 00:07:31.650
在元素上应该

00:07:29.550 --> 00:07:35.280
行为存在，在这里我们说

00:07:31.650 --> 00:07:38.340
我们希望效果是一个副本，以便

00:07:35.280 --> 00:07:41.520
当拖动结束时

00:07:38.340 --> 00:07:46.530
碰巧我们正在复制信息

00:07:41.520 --> 00:07:49.080
从图像到事件

00:07:46.530 --> 00:07:52.170
我们需要停止传播并防止

00:07:49.080 --> 00:07:53.730
默认停止正常浏览器

00:07:52.170 --> 00:07:56.670
当我们将其拖动时发生的事情

00:07:53.730 --> 00:07:59.370
这是设置毒品画一个

00:07:56.670 --> 00:08:03.930
完美的副本，这给了我们

00:07:59.370 --> 00:08:08.100
鼠标上的图标最后是另一个桌面

00:08:03.930 --> 00:08:11.550
功能是剪贴板API，它允许

00:08:08.100 --> 00:08:13.140
我们从某处复制图像

00:08:11.550 --> 00:08:15.150
文件系统或其他文件系统

00:08:13.140 --> 00:08:19.800
应用程序并将其直接粘贴

00:08:15.150 --> 00:08:23.340
现在可以使用chrome浏览到应用中

00:08:19.800 --> 00:08:24.840
图像或任何文件放入任何元素

00:08:23.340 --> 00:08:28.050
您可以设置事件的页面

00:08:24.840 --> 00:08:30.450
侦听器上的粘贴事件

00:08:28.050 --> 00:08:32.040
文档，那会很好，但是

00:08:30.450 --> 00:08:34.650
并非所有浏览器都支持相同功能

00:08:32.040 --> 00:08:36.990
方式和微软优势

00:08:34.650 --> 00:08:40.800
要求元素既是

00:08:36.990 --> 00:08:44.130
可选择和可编辑的，所以我在这里

00:08:40.800 --> 00:08:46.080
我可以粘贴到的文本区域

00:08:44.130 --> 00:08:48.810
您可以立即看到有一点

00:08:46.080 --> 00:08:50.610
 UX问题，这里我们不问

00:08:48.810 --> 00:08:52.680
用户输入任何内容，但我们已经给出

00:08:50.610 --> 00:08:54.480
他们一个文本输入，所以这使得

00:08:52.680 --> 00:08:56.399
有点尴尬

00:08:54.480 --> 00:09:00.360
让用户知道他们应该做什么

00:08:56.399 --> 00:09:02.940
在您的应用中，如果您想

00:09:00.360 --> 00:09:05.130
可编辑元素将其置于屏幕之外， 

00:09:02.940 --> 00:09:07.709
然后当有人点击某个元素时

00:09:05.130 --> 00:09:10.529
屏幕上有，但您无法编辑

00:09:07.709 --> 00:09:13.950
实际上在您的手动设置焦点

00:09:10.529 --> 00:09:16.589
代码成为

00:09:13.950 --> 00:09:19.080
用户将其粘贴到

00:09:16.589 --> 00:09:21.089
你想要，但是后来你遇到了一些

00:09:19.080 --> 00:09:24.839
可访问性问题，这只是

00:09:21.089 --> 00:09:26.910
由于这个原因我有点尴尬

00:09:24.839 --> 00:09:28.290
将粘贴添加到我自己的相机中

00:09:26.910 --> 00:09:30.660
应用，但我只是想让你知道

00:09:28.290 --> 00:09:32.790
该选项在那里，那么我们该如何

00:09:30.660 --> 00:09:34.589
实际处理粘贴事件

00:09:32.790 --> 00:09:36.270
容易，我们采取我们所要的任何元素

00:09:34.589 --> 00:09:38.520
在这种情况下要使用的是我们的文字

00:09:36.270 --> 00:09:40.680
区域，我们添加了一个事件监听器

00:09:38.520 --> 00:09:44.399
粘贴事件以及该事件何时发生

00:09:40.680 --> 00:09:46.620
处理我们得到的事件有一个剪贴板

00:09:44.399 --> 00:09:49.620
带有文件属性的数据属性

00:09:46.620 --> 00:09:52.970
里面的文件属性

00:09:49.620 --> 00:09:55.649
可以看到又是另一个文件列表

00:09:52.970 --> 00:09:58.560
而且只是确定这真的

00:09:55.649 --> 00:10:01.020
工作并复制图像，然后将其粘贴

00:09:58.560 --> 00:10:03.750
在弹药中和之后，因为这很大

00:10:01.020 --> 00:10:07.410
文件，它正在复制我们得到一个新的

00:10:03.750 --> 00:10:09.450
在控制台中输入文件和

00:10:07.410 --> 00:10:11.279
您可以看到我们获得了名称， 

00:10:09.450 --> 00:10:13.560
修改日期和类似的内容

00:10:11.279 --> 00:10:15.209
带我们去问什么是

00:10:13.560 --> 00:10:16.500
文件列表对象这是什么东西

00:10:15.209 --> 00:10:18.930
我们一直在得到我们一直在得到

00:10:16.500 --> 00:10:20.130
从文件输入中我们从拖动中得到它

00:10:18.930 --> 00:10:24.930
然后放下，然后我们从

00:10:20.130 --> 00:10:27.209
剪贴板API，因此文件列表有点像

00:10:24.930 --> 00:10:31.230
像一个数组，它是一个对象

00:10:27.209 --> 00:10:36.690
具有每个属性的数字键

00:10:31.230 --> 00:10:38.399
我说它是一个数组对象

00:10:36.690 --> 00:10:40.230
就像你没有任何数组

00:10:38.399 --> 00:10:44.959
像每个方法或地图一样的方法，但是您可以

00:10:40.230 --> 00:10:51.000
通过使用突袭来创建数组

00:10:44.959 --> 00:10:56.370
所以我可以说我的数组是一个

00:10:51.000 --> 00:10:59.529
从文件列表中突袭

00:10:56.370 --> 00:11:01.389
在这种情况下，因为它是数字

00:10:59.529 --> 00:11:02.500
我仍然可以使用普通的for循环键

00:11:01.389 --> 00:11:07.300
每一个，这就是我要做的

00:11:02.500 --> 00:11:11.110
正如我所说的，在这里

00:11:07.300 --> 00:11:12.820
此文件列出了我们现在的文件对象

00:11:11.110 --> 00:11:14.769
对象实际上与

00:11:12.820 --> 00:11:16.899
 blob，所以如果您之前使用过blob 

00:11:14.769 --> 00:11:19.750
确切地知道如何使用此唯一

00:11:16.899 --> 00:11:22.420
区别在于，如果我们

00:11:19.750 --> 00:11:24.910
看看这里还有一些额外的

00:11:22.420 --> 00:11:28.149
属性的最后修改时间

00:11:24.910 --> 00:11:29.949
具有文件类型的名称事物

00:11:28.149 --> 00:11:31.750
您不会拥有的信息

00:11:29.949 --> 00:11:34.029
 Blob，这意味着您可以使用它

00:11:31.750 --> 00:11:36.550
但是，您将使用Blob Blob可以

00:11:34.029 --> 00:11:38.110
存储在索引数据库中，您可以获得一个URL 

00:11:36.550 --> 00:11:41.290
从他们那里，这意味着你可以使用

00:11:38.110 --> 00:11:46.329
该URL作为图像的来源

00:11:41.290 --> 00:11:47.260
可以将它们传递给工人， 

00:11:46.329 --> 00:11:49.630
东西，因为它们被剥夺了

00:11:47.260 --> 00:11:52.540
可克隆的，您可以做很多事情

00:11:49.630 --> 00:11:57.360
在这种情况下，我将与

00:11:52.540 --> 00:12:04.120
取第一个匹配的文件

00:11:57.360 --> 00:12:06.190
它的类型是图像，我会和

00:12:04.120 --> 00:12:09.540
我将设置输出的来源

00:12:06.190 --> 00:12:13.660
图像就是他们的图像

00:12:09.540 --> 00:12:16.089
这是一个拖放操作，您可以看到

00:12:13.660 --> 00:12:18.640
它将源图像设置为具有

00:12:16.089 --> 00:12:20.170
是从那个Blob创建的，所以

00:12:18.640 --> 00:12:22.089
当我们没有的时候我们如何获得图像

00:12:20.170 --> 00:12:23.230
可以直接访问相机

00:12:22.089 --> 00:12:27.060
给了我们很大的进步

00:12:23.230 --> 00:12:29.350
故事一些可以回落的好地方

00:12:27.060 --> 00:12:31.480
但可以直接访问相机

00:12:29.350 --> 00:12:35.160
下次再说吧

00:12:31.480 --> 00:12:36.899
那我，谢谢你的收看

00:12:35.160 --> 00:12:39.300
感谢您收看是否喜欢看

00:12:36.899 --> 00:12:42.259
我们更多的视频请点击这里，我看到

00:12:39.300 --> 00:12:42.259
你再次欢呼

