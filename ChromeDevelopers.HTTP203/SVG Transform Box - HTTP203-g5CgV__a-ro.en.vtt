WEBVTT
Kind: captions
Language: en

00:00:00.000 --> 00:00:01.590
JAKE: Hey, I'll tell
you what, Jake-- here's

00:00:01.590 --> 00:00:02.881
what we're going to talk about.

00:00:02.881 --> 00:00:05.360
And you'd be like slapping my
leg, and my arm, and my face.

00:00:05.360 --> 00:00:06.766
You didn't slap my face.

00:00:06.766 --> 00:00:08.630
[MUSIC PLAYING]

00:00:12.830 --> 00:00:17.120
I had to bring some of my old
slides back from the dead--

00:00:17.120 --> 00:00:20.420
as I talked about,
like that 2016 talk.

00:00:20.420 --> 00:00:23.820
Gave that recently, because
it was explicitly requested.

00:00:23.820 --> 00:00:25.726
And some of my
slides were broken.

00:00:25.726 --> 00:00:26.360
SURMA: Oh no.

00:00:26.360 --> 00:00:31.265
JAKE: I had a sort of a
thing in SVG that spun round.

00:00:31.265 --> 00:00:32.140
SURMA: Like a spinner.

00:00:32.140 --> 00:00:33.140
JAKE: Like a spinner.

00:00:33.140 --> 00:00:37.030
It was a cog, spinning round,
but it was spinning around--

00:00:37.030 --> 00:00:39.290
and now, it was
just sort of going

00:00:39.290 --> 00:00:42.844
for a wander around the page.

00:00:42.844 --> 00:00:43.668
SURMA: Ooh.

00:00:43.668 --> 00:00:47.300
So like the origin of
the rotation had changed.

00:00:47.300 --> 00:00:49.313
JAKE: The origin of the
rotation had changed.

00:00:49.313 --> 00:00:50.180
SURMA: Why?

00:00:50.180 --> 00:00:52.520
Did we break the web?

00:00:52.520 --> 00:00:53.060
JAKE: Yes.

00:00:53.060 --> 00:00:55.270
Well, in my case,
yes-- yes, we did.

00:00:55.270 --> 00:00:57.190
It turns out I
didn't matter enough,

00:00:57.190 --> 00:01:01.350
I didn't register enough on
the statistics to worry about.

00:01:01.350 --> 00:01:06.980
But I was relying on,
technically, a bug in Chrome.

00:01:06.980 --> 00:01:08.215
SURMA: So you are to blame.

00:01:08.215 --> 00:01:08.840
JAKE: Kind of.

00:01:08.840 --> 00:01:09.579
I don't know.

00:01:09.579 --> 00:01:11.870
I don't know if I knew I was
relying on a bug in Chrome

00:01:11.870 --> 00:01:13.182
at the time.

00:01:13.182 --> 00:01:14.640
It's still my
ignorance, I suppose.

00:01:14.640 --> 00:01:15.020
Fine.

00:01:15.020 --> 00:01:15.516
Fine, it's mine.

00:01:15.516 --> 00:01:16.300
Fine.
SURMA: Fine!

00:01:16.300 --> 00:01:18.100
JAKE: OK.

00:01:18.100 --> 00:01:21.440
And so if you've
got an HTML element,

00:01:21.440 --> 00:01:26.510
and you spin it around with
a transform origin like it's

00:01:26.510 --> 00:01:27.380
the default.

00:01:27.380 --> 00:01:28.140
SURMA: 50-50.

00:01:28.140 --> 00:01:29.240
JAKE: 50-50.

00:01:29.240 --> 00:01:30.730
It kind of spins around the--

00:01:30.730 --> 00:01:33.830
SURMA: We should be completely
at the 50%, so in the middle.

00:01:33.830 --> 00:01:35.930
By default, the
transform origin's

00:01:35.930 --> 00:01:39.400
in the middle of the border box?

00:01:39.400 --> 00:01:42.650
JAKE: I think it's the
painted area, maybe.

00:01:42.650 --> 00:01:45.380
SURMA: Is that a
thing that exists?

00:01:45.380 --> 00:01:46.210
As like--

00:01:46.210 --> 00:01:47.060
JAKE: Yeah, no.

00:01:47.060 --> 00:01:47.630
Yes-- no.

00:01:47.630 --> 00:01:48.910
SURMA: I would say border box.

00:01:48.910 --> 00:01:49.660
JAKE: Border box.

00:01:49.660 --> 00:01:50.220
OK.

00:01:50.220 --> 00:01:51.530
SURMA: But I'm not sure.

00:01:51.530 --> 00:01:53.990
Tweet at us if you
know the answer.

00:01:53.990 --> 00:01:56.630
JAKE: I'll have to
go and look that up.

00:01:56.630 --> 00:02:03.600
And whereas in SVG, the default
transform origin, I think,

00:02:03.600 --> 00:02:05.750
is 0, 0.

00:02:05.750 --> 00:02:07.550
But this is where it
starts getting weird--

00:02:07.550 --> 00:02:11.780
the transform origin
sort of differs from--

00:02:11.780 --> 00:02:14.290
it's 0, 0, but not
to the element.

00:02:14.290 --> 00:02:17.120
It's to the SVG element.

00:02:17.120 --> 00:02:18.080
SURMA: Ooh.

00:02:18.080 --> 00:02:23.230
Oh, I think-- yes, now that you
say that, that might be true.

00:02:23.230 --> 00:02:27.150
JAKE: But if you did
transform origin 50%, 50%,

00:02:27.150 --> 00:02:32.040
Chrome would put it in the
middle of the painted element.

00:02:32.040 --> 00:02:33.690
SURMA: The individual SVG--

00:02:33.690 --> 00:02:35.130
individual--

00:02:35.130 --> 00:02:35.670
JAKE: Yes.

00:02:35.670 --> 00:02:37.419
SURMA: --thing, not the
SVG view box thing.

00:02:37.419 --> 00:02:40.290
JAKE: So if you wanted the
cog to spin around the center,

00:02:40.290 --> 00:02:42.060
transform origin, 50%, 50%.

00:02:42.060 --> 00:02:42.560
Rotation--

00:02:42.560 --> 00:02:43.680
JAKE: Would do the
thing you'd expect.

00:02:43.680 --> 00:02:44.250
OK.

00:02:44.250 --> 00:02:45.910
JAKE: And everything works.

00:02:45.910 --> 00:02:48.335
SURMA: What if I do
transform origin 0, 0?

00:02:48.335 --> 00:02:51.060
JAKE: Oh, that would be
the top left of the SVG.

00:02:51.060 --> 00:02:55.230
Yeah, it was a bit weird--
like % behave differently to--

00:02:55.230 --> 00:02:56.880
SURMA: 0%?

00:02:56.880 --> 00:02:58.590
JAKE: I don't know.

00:02:58.590 --> 00:03:00.840
SURMA: OK, it's apparently
not working anyway, anymore.

00:03:00.840 --> 00:03:03.298
JAKE: So it could be that my
memory's off there, because I

00:03:03.298 --> 00:03:04.620
say, that is in the past.

00:03:04.620 --> 00:03:09.440
Chrome fixed itself--
thanks, Chrome--

00:03:09.440 --> 00:03:10.959
to behave like
Firefox was behaving,

00:03:10.959 --> 00:03:13.500
which was according to the spec,
like the transform origin is

00:03:13.500 --> 00:03:16.854
always the top left
of the SVG element.

00:03:16.854 --> 00:03:17.520
The [INAUDIBLE].

00:03:17.520 --> 00:03:20.640
SURMA: So that reinforced the
whole notion that SVG elements

00:03:20.640 --> 00:03:22.121
have this coordinate system--

00:03:22.121 --> 00:03:22.620
JAKE: Yes.

00:03:22.620 --> 00:03:23.661
SURMA: --that you work on.

00:03:23.661 --> 00:03:26.220
And every element works relative
to that coordinate system.

00:03:26.220 --> 00:03:26.770
JAKE: Yes.

00:03:26.770 --> 00:03:27.270
SURMA: OK.

00:03:27.270 --> 00:03:29.640
JAKE: Exactly that.

00:03:29.640 --> 00:03:32.910
And the fix is this
relatively new CSS property

00:03:32.910 --> 00:03:34.260
called transform box.

00:03:34.260 --> 00:03:35.884
SURMA: Mm-hm.

00:03:35.884 --> 00:03:37.490
JAKE: And that takes--

00:03:37.490 --> 00:03:38.674
SURMA: That was a squeak.
(IN A HIGH VOICE) Mm-hm.

00:03:38.674 --> 00:03:40.162
Mm-hm.
JAKE: (IN A HIGH VOICE) Mm-hm.

00:03:40.162 --> 00:03:40.410
Mm.

00:03:40.410 --> 00:03:40.840
SURMA: (IN A HIGH
VOICE) Interesting.

00:03:40.840 --> 00:03:42.464
JAKE: (IN A HIGH
VOICE) Transform box.

00:03:42.464 --> 00:03:43.456
Here we go.

00:03:43.456 --> 00:03:45.830
I'm going to do the rest of
the episode in a Mickey Mouse

00:03:45.830 --> 00:03:46.330
voice.

00:03:46.330 --> 00:03:48.930
(REGULAR VOICE) No, I'm not.

00:03:48.930 --> 00:03:54.450
And the values it has is border
box, fill box, and view box.

00:03:54.450 --> 00:03:56.100
So the idea is--

00:03:56.100 --> 00:03:56.979
SURMA: OK.

00:03:56.979 --> 00:03:58.020
JAKE: -- like view box--

00:03:58.020 --> 00:04:01.980
SURMA: Is this a
property on a SVG?

00:04:01.980 --> 00:04:04.474
JAKE: Actually, it's CSS,
so it's on all elements.

00:04:04.474 --> 00:04:04.974
SURMA: OK.

00:04:04.974 --> 00:04:05.474
OK.

00:04:05.474 --> 00:04:06.390
JAKE: Including HTML.

00:04:06.390 --> 00:04:08.960
SURMA: What do you call the
things inside an SVG element?

00:04:08.960 --> 00:04:10.299
The SVG elements?

00:04:10.299 --> 00:04:12.340
JAKE: Well, we call a
paragraph an HTML element.

00:04:12.340 --> 00:04:13.083
[INAUDIBLE]

00:04:13.083 --> 00:04:14.541
SURMA: No, but how
do we distinguish

00:04:14.541 --> 00:04:18.913
between the boundary towards
the SVG thing and the things

00:04:18.913 --> 00:04:20.079
that you can use inside SVG?

00:04:20.079 --> 00:04:20.860
JAKE: I see.

00:04:20.860 --> 00:04:24.745
Let's go for SVG
root or HTML root.

00:04:24.745 --> 00:04:25.245
SURMA: Mm-hm.

00:04:25.245 --> 00:04:27.560
So We have SVG elements
that are inside an SVG root.

00:04:27.560 --> 00:04:28.780
JAKE: Yeah, let's do that.

00:04:28.780 --> 00:04:29.280
OK.

00:04:29.280 --> 00:04:29.780
SURMA: OK.

00:04:29.780 --> 00:04:30.580
JAKE: OK, OK.

00:04:30.580 --> 00:04:31.080
Yeah.

00:04:31.080 --> 00:04:34.010
So the default for
SVG is view box.

00:04:34.010 --> 00:04:34.510
SURMA: Yes.

00:04:34.510 --> 00:04:37.930
JAKE: Which is essentially
the [INAUDIBLE] view, SVG view.

00:04:37.930 --> 00:04:40.270
Whereas, the default
for HTML is--

00:04:40.270 --> 00:04:43.440
well, I thought it was fill box,
but now you've got me thinking.

00:04:43.440 --> 00:04:44.125
SURMA: One of the two--
border box or fill box.

00:04:44.125 --> 00:04:44.480
JAKE: Border box.

00:04:44.480 --> 00:04:44.870
Border box.

00:04:44.870 --> 00:04:45.160
Box.

00:04:45.160 --> 00:04:46.750
SURMA: I didn't know that
fill box is a thing,

00:04:46.750 --> 00:04:47.860
so you might very well be right.

00:04:47.860 --> 00:04:50.500
I didn't know that we ever had
the notion of the region that

00:04:50.500 --> 00:04:53.150
is painted as something
that you can work on.

00:04:53.150 --> 00:04:55.304
JAKE: Yeah, but I am
thinking it's border box now,

00:04:55.304 --> 00:04:57.220
because I think it might
be the same as what's

00:04:57.220 --> 00:05:00.940
created by a [INAUDIBLE].

00:05:00.940 --> 00:05:04.180
SURMA: Do we have fill
box somewhere else?

00:05:04.180 --> 00:05:06.340
JAKE: I think.

00:05:06.340 --> 00:05:07.920
We do have it for, I think--

00:05:07.920 --> 00:05:08.630
SURMA: Not for box [INAUDIBLE].

00:05:08.630 --> 00:05:10.300
JAKE: We have pointer
events, I think.

00:05:10.300 --> 00:05:10.799
SURMA: Huh.

00:05:10.799 --> 00:05:14.380
JAKE: Pointer events in SVG.

00:05:14.380 --> 00:05:19.940
SURMA: So basically, fill box
could differ from the border

00:05:19.940 --> 00:05:22.520
box with masks?

00:05:22.520 --> 00:05:26.294
JAKE: Things escaping
outside, or things--

00:05:26.294 --> 00:05:27.710
so I think you're
right, actually.

00:05:27.710 --> 00:05:31.130
I think HTML4 uses border box.

00:05:31.130 --> 00:05:35.240
Pointer events in SVG,
if you have a hover,

00:05:35.240 --> 00:05:37.640
you can have the hover
be to the painted area.

00:05:37.640 --> 00:05:39.140
So if there's a
hole in the middle--

00:05:39.140 --> 00:05:40.723
SURMA: So that
[INAUDIBLE] makes sense,

00:05:40.723 --> 00:05:43.234
because you want to make it
to the visual representation

00:05:43.234 --> 00:05:44.150
of the element, right?

00:05:44.150 --> 00:05:46.274
JAKE: Well, sometimes you
do, sometimes you don't.

00:05:46.274 --> 00:05:49.042
So this was a huge problem
in Flash, in the olden days.

00:05:49.042 --> 00:05:50.000
SURMA: Here we go again.

00:05:50.000 --> 00:05:53.046
JAKE: Yeah, tales from my
days as a Flash developer.

00:05:53.046 --> 00:05:54.920
A lot of people would
make this mistake where

00:05:54.920 --> 00:05:58.070
they would have a
button, and the thing

00:05:58.070 --> 00:06:02.260
they defined as a button
would be the button text.

00:06:02.260 --> 00:06:04.172
And that meant the hover
area was the click--

00:06:04.172 --> 00:06:04.880
SURMA: [INAUDIBLE]

00:06:04.880 --> 00:06:05.380
JAKE: Yeah.

00:06:05.380 --> 00:06:07.700
And if it was a
very thin font, it

00:06:07.700 --> 00:06:09.200
was really difficult
to get on and--

00:06:09.200 --> 00:06:09.320
SURMA: Get on the--

00:06:09.320 --> 00:06:11.480
I remember those buggy
Flash, where you had, like--

00:06:11.480 --> 00:06:12.260
[GROWLS]

00:06:12.260 --> 00:06:15.080
JAKE: So with
pointer events in SVG,

00:06:15.080 --> 00:06:18.500
you can define it as being the
border box, like essentially,

00:06:18.500 --> 00:06:21.859
the layout box, or
the painted area.

00:06:21.859 --> 00:06:23.150
SURMA: So just a quick question.

00:06:23.150 --> 00:06:27.440
Would outline be
part of the fill box?

00:06:27.440 --> 00:06:28.280
JAKE: Ooh.

00:06:28.280 --> 00:06:30.690
Probably not, because it's
outside the border box.

00:06:30.690 --> 00:06:33.850
Or it would be in the
fill box, but it's--

00:06:33.850 --> 00:06:34.350
SURMA: Yeah.

00:06:34.350 --> 00:06:35.720
So ultimately, it would
be part of the fill box.

00:06:35.720 --> 00:06:36.350
JAKE: Yeah.

00:06:36.350 --> 00:06:37.700
SURMA: Interesting.

00:06:37.700 --> 00:06:38.955
JAKE: I think-- yeah, maybe.

00:06:38.955 --> 00:06:39.870
I think.

00:06:39.870 --> 00:06:42.200
I'm just going to give up.

00:06:42.200 --> 00:06:44.510
But yeah, so is this--

00:06:44.510 --> 00:06:47.610
SURMA: So you have control
over how this works.

00:06:47.610 --> 00:06:48.110
JAKE: Yes.

00:06:48.110 --> 00:06:48.650
So if you want to--

00:06:48.650 --> 00:06:51.310
SURMA: But Chrome changed its
default, which was [INAUDIBLE]..

00:06:51.310 --> 00:06:52.085
JAKE: Exactly.

00:06:52.085 --> 00:06:52.584
Yes.

00:06:52.584 --> 00:06:54.200
But now that's supported.

00:06:54.200 --> 00:06:57.980
Transform boxes are supported
in Safari, in Firefox,

00:06:57.980 --> 00:07:00.720
and in Chrome-- ah, not
Edge, unfortunately.

00:07:00.720 --> 00:07:01.220
SURMA: Yeah.

00:07:01.220 --> 00:07:02.240
JAKE: So if you
want to spin around

00:07:02.240 --> 00:07:04.970
the center of something-- so
I used to always-- my hack was

00:07:04.970 --> 00:07:09.560
to use transforms to get
the thing back into 0, 0,

00:07:09.560 --> 00:07:12.150
do the rotation, and then
do the reverse, really,

00:07:12.150 --> 00:07:14.425
which is a pain.

00:07:14.425 --> 00:07:16.550
Someone on Twitter came up
with a much better way--

00:07:16.550 --> 00:07:20.200
Fabian [? Gunden. ?] Because
you can have SVG in SVG,

00:07:20.200 --> 00:07:21.600
and it's its own view box then.

00:07:21.600 --> 00:07:22.100
SURMA: Yeah.

00:07:22.100 --> 00:07:24.770
You can basically just do a
relative coordinate system.

00:07:24.770 --> 00:07:25.940
JAKE: It's either a
relative coordinate system,

00:07:25.940 --> 00:07:27.590
rotate the thing
inside, and then

00:07:27.590 --> 00:07:29.340
the extra transforms
of the thing outside.

00:07:29.340 --> 00:07:30.495
Problem solved.

00:07:30.495 --> 00:07:31.120
It's all fixed.

00:07:33.970 --> 00:07:35.310
I like that.

00:07:35.310 --> 00:07:35.810
SURMA: Yeah.

00:07:35.810 --> 00:07:39.180
I mean, that's probably not
even that bad of a solution.

00:07:39.180 --> 00:07:41.550
It looks a bit icky in
the markup, I guess,

00:07:41.550 --> 00:07:43.530
but it really
solves the problem.

00:07:43.530 --> 00:07:44.030
JAKE: Yeah.

00:07:44.030 --> 00:07:44.860
It really solves the problem.

00:07:44.860 --> 00:07:45.210
[MUSIC PLAYING]

00:07:45.210 --> 00:07:47.168
SURMA: But some of them
just don't get the hint,

00:07:47.168 --> 00:07:48.480
so I'm not a small talker.

00:07:48.480 --> 00:07:48.980
I hate it.

00:07:48.980 --> 00:07:49.521
JAKE: Right.

00:07:49.521 --> 00:07:53.030
SURMA: Both in Uber,
or on a massage table,

00:07:53.030 --> 00:07:53.880
I just go like-- hm.

00:07:53.880 --> 00:07:54.380
Yeah.

00:07:54.380 --> 00:07:56.060
Get the hint-- I don't
want to talk to you.

00:07:56.060 --> 00:07:56.726
JAKE: Oh, yeah.

00:07:56.726 --> 00:07:58.274
Just drive, slave.

00:07:58.274 --> 00:07:59.190
SURMA: Most of them do.

00:07:59.190 --> 00:08:00.148
Most of them are like--

00:08:00.148 --> 00:08:00.990
JAKE: Come on.

00:08:00.990 --> 00:08:03.260
SURMA: Or barbershop,
also very talkative.

00:08:03.260 --> 00:08:05.200
I'm like, hm.

