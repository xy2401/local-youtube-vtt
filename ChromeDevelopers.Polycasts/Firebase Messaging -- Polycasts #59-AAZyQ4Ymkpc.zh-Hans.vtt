WEBVTT
Kind: captions
Language: zh-Hans

00:00:02.230 --> 00:00:06.390
 [音乐] 

00:00:04.339 --> 00:00:09.000
嘿，哥们，这是怎么回事

00:00:06.390 --> 00:00:10.650
欢迎回到展会，所以今天我们

00:00:09.000 --> 00:00:12.960
将继续我们的系列

00:00:10.650 --> 00:00:15.420
通过使用

00:00:12.960 --> 00:00:17.340
 Firebase消息传递元素，允许

00:00:15.420 --> 00:00:20.580
我们向我们添加推送通知

00:00:17.340 --> 00:00:22.470
 Polymer Plus Firebase应用程序，以便获得

00:00:20.580 --> 00:00:25.410
从firebase消息开始

00:00:22.470 --> 00:00:28.380
我在这里到我的笔记本电脑，我走了

00:00:25.410 --> 00:00:31.050
到Beta Web Components组织，这是我们的

00:00:28.380 --> 00:00:33.000
令人惊奇的新Web组件目录，我

00:00:31.050 --> 00:00:35.100
刚去找火力基地

00:00:33.000 --> 00:00:37.800
消息，他们将带我进入聚合

00:00:35.100 --> 00:00:39.239
消防仓库，一旦你在这里，你想要

00:00:37.800 --> 00:00:40.739
确保转到侧边栏

00:00:39.239 --> 00:00:42.480
在这里列出了所有元素

00:00:40.739 --> 00:00:44.460
落入聚合物火中并单击

00:00:42.480 --> 00:00:47.399
在Firebase消息传递上，现在我们可以看到

00:00:44.460 --> 00:00:49.079
特定于此元素的文档，因此

00:00:47.399 --> 00:00:50.850
我们需要做的几件事

00:00:49.079 --> 00:00:53.160
使用Firebase消息启动并运行

00:00:50.850 --> 00:00:54.840
我经常忘记这些步骤，所以我

00:00:53.160 --> 00:00:56.850
打算先去做，所以我

00:00:54.840 --> 00:00:58.530
这次不要忘记第一个

00:00:56.850 --> 00:01:00.600
想做的就是下去这里

00:00:58.530 --> 00:01:04.350
说我们需要一个网络应用清单

00:01:00.600 --> 00:01:06.659
我们需要此GCM发送者ID，因此

00:01:04.350 --> 00:01:08.880
它在这里列出的具体编号

00:01:06.659 --> 00:01:10.560
你知道像1 0 3 9 5 

00:01:08.880 --> 00:01:13.170
不管我们要用什么

00:01:10.560 --> 00:01:14.820
我们的网络应用清单中的确切数字

00:01:13.170 --> 00:01:16.740
因为那是我的发件人ID 

00:01:14.820 --> 00:01:18.450
认为Google Cloud消息服务或

00:01:16.740 --> 00:01:20.400
无论我们要使用什么

00:01:18.450 --> 00:01:22.500
使用Firebase发送推送通知

00:01:20.400 --> 00:01:24.180
所以我要去Visual Studio 

00:01:22.500 --> 00:01:26.189
代码我有这个项目

00:01:24.180 --> 00:01:29.159
创建新文件时已经启动

00:01:26.189 --> 00:01:30.930
在这里的内部称为manifest.json 

00:01:29.159 --> 00:01:32.549
我将只粘贴一把钥匙

00:01:30.930 --> 00:01:33.479
可能已经具有用于的清单JSON 

00:01:32.549 --> 00:01:34.979
您的项目中可能已经有一个

00:01:33.479 --> 00:01:36.630
里面还有一些其他的东西

00:01:34.979 --> 00:01:39.150
很酷，只需确保您包括

00:01:36.630 --> 00:01:42.030
您清单中某处的这一把钥匙

00:01:39.150 --> 00:01:44.880
然后在我的索引文件中

00:01:42.030 --> 00:01:47.759
要写一个链接标签，而rel是

00:01:44.880 --> 00:01:52.829
将变得明显，而href是

00:01:47.759 --> 00:01:54.450
将成为清单点JSON好吧

00:01:52.829 --> 00:01:57.329
这样我们接下来要做的是

00:01:54.450 --> 00:01:59.250
是我们需要从中获得一些神奇的钥匙

00:01:57.329 --> 00:02:01.350
我要去的火力基地项目

00:01:59.250 --> 00:02:03.659
转到我的Firebase控制台，这是我的

00:02:01.350 --> 00:02:05.460
我已经建立的项目，我

00:02:03.659 --> 00:02:07.469
可以在这里点击这个小齿轮

00:02:05.460 --> 00:02:09.660
我的项目设置中有一个选项卡

00:02:07.469 --> 00:02:10.830
就在这里进行云消息传递，我将

00:02:09.660 --> 00:02:12.510
一点一点地颠簸

00:02:10.830 --> 00:02:13.630
比较容易看到，所以有几个

00:02:12.510 --> 00:02:16.150
键

00:02:13.630 --> 00:02:18.280
在此页面上，我将继续

00:02:16.150 --> 00:02:19.720
并获取服务器密钥并将其复制到

00:02:18.280 --> 00:02:20.350
我的剪贴板，因为我需要

00:02:19.720 --> 00:02:23.140
那以后

00:02:20.350 --> 00:02:26.200
我也需要这个发件人ID 

00:02:23.140 --> 00:02:28.270
是我特定于Firebase的发件人ID，这是

00:02:26.200 --> 00:02:30.250
一个特定于我的项目，所以

00:02:28.270 --> 00:02:31.750
与GCM发送者ID不同

00:02:30.250 --> 00:02:33.850
我们只是一起工作所以我要去

00:02:31.750 --> 00:02:36.550
复制这一回去我的项目

00:02:33.850 --> 00:02:38.530
我将找到我的firebase应用

00:02:36.550 --> 00:02:41.140
在这里某处的元素

00:02:38.530 --> 00:02:46.150
我们走了，我相信我们需要确保

00:02:41.140 --> 00:02:48.730
添加到这个消息发送者ID 

00:02:46.150 --> 00:02:50.380
并将其设置为特定的firebase e 

00:02:48.730 --> 00:02:52.990
我们刚刚复制到那边好了

00:02:50.380 --> 00:02:54.670
我们已经设置好了零件

00:02:52.990 --> 00:02:56.410
准备实际开始添加Firebase 

00:02:54.670 --> 00:02:57.790
消息传递给我们的项目，我们将得到

00:02:56.410 --> 00:02:59.200
回到服务器密钥

00:02:57.790 --> 00:03:00.520
稍后，但现在我们实际上已经准备好

00:02:59.200 --> 00:03:02.200
开始在其中删除其中一些元素

00:03:00.520 --> 00:03:04.120
所以我将回到聚合物的文档

00:03:02.200 --> 00:03:05.410
火，真正的好处是

00:03:04.120 --> 00:03:07.360
这里的示例代码非常好，所以我们

00:03:05.410 --> 00:03:09.610
可以直接跟随它，所以我

00:03:07.360 --> 00:03:11.440
想抓住这个firebase消息

00:03:09.610 --> 00:03:13.780
元素就在这里，只需复制该代码

00:03:11.440 --> 00:03:15.820
而我要建立的基本上是

00:03:13.780 --> 00:03:17.920
像一个拨动开关，我要

00:03:15.820 --> 00:03:19.630
点击切换开关，它将要求他们

00:03:17.920 --> 00:03:22.390
允许向他们发送通知

00:03:19.630 --> 00:03:24.040
他们会说是的，这需要令牌

00:03:22.390 --> 00:03:26.350
该权限所产生的

00:03:24.040 --> 00:03:28.240
授予它会将其保存到Firebase并

00:03:26.350 --> 00:03:29.500
这也会给我们一个指标

00:03:28.240 --> 00:03:30.760
这样我们就可以继续发送给他们

00:03:29.500 --> 00:03:33.310
通知，然后我们将

00:03:30.760 --> 00:03:35.590
使用一些卷曲魔术来做到这一点

00:03:33.310 --> 00:03:37.630
我要在公开场合中使用的元素

00:03:35.590 --> 00:03:43.120
目录就像一个名为my的新文件

00:03:37.630 --> 00:03:44.650
 -订阅点HTML，我将转到

00:03:43.120 --> 00:03:46.510
只需导入一些

00:03:44.650 --> 00:03:48.190
我们需要的火力基地元素

00:03:46.510 --> 00:03:49.330
我们将需要的，所以我们会做

00:03:48.190 --> 00:03:52.350
这是从聚合物火中我们要

00:03:49.330 --> 00:03:58.540
需要火力基地，我们将需要

00:03:52.350 --> 00:04:01.780
 firebase记录任何firebase消息传递

00:03:58.540 --> 00:04:04.060
和消息传递，还有一个要素

00:04:01.780 --> 00:04:06.100
我们需要的是纸张切换

00:04:04.060 --> 00:04:08.470
按钮，所以我还没有安装

00:04:06.100 --> 00:04:11.830
只是一秒钟而已

00:04:08.470 --> 00:04:13.930
纸张切换按钮右切换到

00:04:11.830 --> 00:04:19.080
终端，所以我们将进行安装

00:04:13.930 --> 00:04:21.400
保存聚合物元素斜线切换

00:04:19.080 --> 00:04:22.780
按钮，以便我出去取回

00:04:21.400 --> 00:04:24.520
已经在我的项目中安装了它

00:04:22.780 --> 00:04:27.230
所以应该很好走

00:04:24.520 --> 00:04:28.310
切换回

00:04:27.230 --> 00:04:29.900
我们正在写的说明元素

00:04:28.310 --> 00:04:33.610
只是要使用一些代码片段

00:04:29.900 --> 00:04:35.360
在这里将事情存根，所以说我的

00:04:33.610 --> 00:04:37.250
订阅很酷

00:04:35.360 --> 00:04:38.450
所以在我们的模板中，我们现在可以开始

00:04:37.250 --> 00:04:39.920
有点像复制并粘贴一些

00:04:38.450 --> 00:04:42.170
我们在火灾中看到的代码基于

00:04:39.920 --> 00:04:44.530
邮件文档，因此我将直接

00:04:42.170 --> 00:04:47.120
基于火灾的消息传递元素就在这里

00:04:44.530 --> 00:04:48.890
那我们就这样吧

00:04:47.120 --> 00:04:51.260
要做的是要创建一个元素

00:04:48.890 --> 00:04:52.700
具有消息传递ID的代码，我们将

00:04:51.260 --> 00:04:54.620
以后使用它来访问它

00:04:52.700 --> 00:04:56.540
 JavaScript将有一个令牌

00:04:54.620 --> 00:04:58.910
将要公开的属性

00:04:56.540 --> 00:05:00.080
到其余的元素

00:04:58.910 --> 00:05:03.350
我们正在建造的东西里面

00:05:00.080 --> 00:05:04.760
然后当它收到一条消息时

00:05:03.350 --> 00:05:06.440
将尝试调用此句柄

00:05:04.760 --> 00:05:07.790
消息方法将实现

00:05:06.440 --> 00:05:09.500
稍后我们需要的另一件事

00:05:07.790 --> 00:05:11.900
要做的只是验证我们有一个用户

00:05:09.500 --> 00:05:14.030
所以我要放一个火力基地

00:05:11.900 --> 00:05:15.200
取消元素将这只小狗粘贴到那里

00:05:14.030 --> 00:05:17.570
酷酷

00:05:15.200 --> 00:05:19.400
好的，所以我们在过去两个

00:05:17.570 --> 00:05:21.500
情节我们在对待火力基地

00:05:19.400 --> 00:05:23.930
几乎像一个模型代表

00:05:21.500 --> 00:05:26.210
用户的状态，在这种情况下，我们

00:05:23.930 --> 00:05:28.040
只是想从中获取用户价值

00:05:26.210 --> 00:05:30.770
禁用firebase，因此一旦用户签名

00:05:28.040 --> 00:05:32.900
我们可以使用该值来写

00:05:30.770 --> 00:05:34.520
到该用户数据库的特定部分

00:05:32.900 --> 00:05:37.100
在这种情况下，我们将使用它来

00:05:34.520 --> 00:05:38.960
保存Firebase消息传递的令牌

00:05:37.100 --> 00:05:41.540
用户授予时生成

00:05:38.960 --> 00:05:44.660
允许这样做，我们将加入

00:05:41.540 --> 00:05:46.100
 Firebase文档将此小狗粘贴到

00:05:44.660 --> 00:05:48.230
好了，所以我们要做的是

00:05:46.100 --> 00:05:49.970
这个文件是firebase文件

00:05:48.230 --> 00:05:51.020
的工作原理与Firebase查询非常相似

00:05:49.970 --> 00:05:53.630
我认为我们在上次使用

00:05:51.020 --> 00:05:55.010
您以前编写的情节firebase查询

00:05:53.630 --> 00:05:56.990
当您进入Firebase数据库时

00:05:55.010 --> 00:05:58.790
使用像数据这样的数组，所以你知道

00:05:56.990 --> 00:05:59.960
诸如此类的大量收藏

00:05:58.790 --> 00:06:01.970
待办事项清单中的费用

00:05:59.960 --> 00:06:03.290
当您

00:06:01.970 --> 00:06:05.840
想写得很具体

00:06:03.290 --> 00:06:07.460
对象，所以我们不会强迫您知道

00:06:05.840 --> 00:06:09.230
一堆像数据一样的数据

00:06:07.460 --> 00:06:11.300
像某些人一样写

00:06:09.230 --> 00:06:13.210
字段，所以在这种情况下，我们要说

00:06:11.300 --> 00:06:16.280
我们要写斜线来削减用户

00:06:13.210 --> 00:06:18.140
用户UID，因此这将特定于

00:06:16.280 --> 00:06:20.150
已登录的用户，我们将

00:06:18.140 --> 00:06:22.580
给他们一些令牌子属性

00:06:20.150 --> 00:06:24.650
我们要写到那个领域

00:06:22.580 --> 00:06:26.870
能够实现该价值的数据是

00:06:24.650 --> 00:06:28.520
将来自此单向令牌

00:06:26.870 --> 00:06:29.990
绑定将由

00:06:28.520 --> 00:06:31.550
 Firebase消息传递

00:06:29.990 --> 00:06:33.140
基本上我们在做的是

00:06:31.550 --> 00:06:34.610
说什么时候用户授予firebase 

00:06:33.140 --> 00:06:36.080
消息传递权限

00:06:34.610 --> 00:06:37.760
生成我们将要保存的令牌

00:06:36.080 --> 00:06:39.200
那到数据库，那真的

00:06:37.760 --> 00:06:40.790
有用，因为将来当您

00:06:39.200 --> 00:06:42.020
想要向某人发送通知

00:06:40.790 --> 00:06:44.060
你知道你要去看看

00:06:42.020 --> 00:06:46.340
好吧，您知道这个用户吗

00:06:44.060 --> 00:06:49.160
批准了您知道的许可

00:06:46.340 --> 00:06:51.470
发送通知是或否

00:06:49.160 --> 00:06:53.660
如果是这样的话，让我们用它来

00:06:51.470 --> 00:06:56.090
给他们发送通知，好吧

00:06:53.660 --> 00:06:58.070
想设置一点代码来

00:06:56.090 --> 00:06:59.690
实际上你知道问用户

00:06:58.070 --> 00:07:02.030
允许在这里，这就是我们要去的地方

00:06:59.690 --> 00:07:03.800
使用该纸张切换按钮

00:07:02.030 --> 00:07:05.600
有一点会粘贴在这里

00:07:03.800 --> 00:07:08.240
好了，所以我们有一个纸张切换按钮

00:07:05.600 --> 00:07:09.890
具有订阅ID，并且每当

00:07:08.240 --> 00:07:11.840
用户点击它，我们将其称为

00:07:09.890 --> 00:07:12.830
切换订阅方法，然后

00:07:11.840 --> 00:07:13.760
我们要弄清楚你

00:07:12.830 --> 00:07:16.010
知道这件事是否应该

00:07:13.760 --> 00:07:17.990
根据是否检查

00:07:16.010 --> 00:07:19.400
用户已经生成了一个令牌

00:07:17.990 --> 00:07:20.630
就像是一种快速而肮脏的方式

00:07:19.400 --> 00:07:22.100
做我实际上可能会做的事情

00:07:20.630 --> 00:07:24.320
建议您是否将它们像

00:07:22.100 --> 00:07:25.850
更多类似于您的生产应用

00:07:24.320 --> 00:07:27.380
有一个单独的财产

00:07:25.850 --> 00:07:29.930
跟踪用户是否

00:07:27.380 --> 00:07:31.070
已订阅，但在这种情况下，您知道

00:07:29.930 --> 00:07:32.750
因为我们只想起床

00:07:31.070 --> 00:07:35.360
运行我们可以使用这种方法

00:07:32.750 --> 00:07:37.130
然后在纸张翻转的下方

00:07:35.360 --> 00:07:38.240
按钮要求用户订阅我

00:07:37.130 --> 00:07:40.670
实际上只是要创建一对

00:07:38.240 --> 00:07:42.230
段落标记以记录

00:07:40.670 --> 00:07:44.870
令牌，我们稍后需要

00:07:42.230 --> 00:07:46.700
当我们使用curl实际发送一个

00:07:44.870 --> 00:07:48.140
通知，但通常您只会

00:07:46.700 --> 00:07:49.820
将此存储在您的数据库中，您

00:07:48.140 --> 00:07:51.170
可以在服务器端使用它，但是在

00:07:49.820 --> 00:07:54.230
我们的情况下，我们将使用它，以便我们可以

00:07:51.170 --> 00:07:55.820
我们可以将其卷曲好，所以我需要

00:07:54.230 --> 00:07:57.710
实现此切换订阅

00:07:55.820 --> 00:08:01.730
方法，以便用户可以完成全部操作

00:07:57.710 --> 00:08:03.350
许可关闭授予的东西，所以如果我们去

00:08:01.730 --> 00:08:05.330
结束，我们看一下文档

00:08:03.350 --> 00:08:06.560
他们实际上已经给了聚合物火

00:08:05.330 --> 00:08:08.690
我们基本上所有的代码

00:08:06.560 --> 00:08:09.950
需要在这里存根

00:08:08.690 --> 00:08:11.630
只是要在这里复制这个块

00:08:09.950 --> 00:08:13.610
我将带您了解发生的一切

00:08:11.630 --> 00:08:17.300
实施后，我们会说

00:08:13.610 --> 00:08:22.010
切换订阅功能和

00:08:17.300 --> 00:08:24.050
我们将其粘贴好，那么

00:08:22.010 --> 00:08:26.690
发生在这里，所以我们说好

00:08:24.050 --> 00:08:28.340
找到这个点状美元注册消息

00:08:26.690 --> 00:08:30.110
同样，这是聚合物的方式

00:08:28.340 --> 00:08:31.670
通过其ID引用元素

00:08:30.110 --> 00:08:33.800
这是指我们的火力基地

00:08:31.670 --> 00:08:35.660
消息元素就在这里，所以我们

00:08:33.800 --> 00:08:37.580
说拿那个元素叫它

00:08:35.660 --> 00:08:39.260
请求许可方法

00:08:37.580 --> 00:08:40.970
然后问用户嘿

00:08:39.260 --> 00:08:43.280
向您发送通知，它将

00:08:40.970 --> 00:08:44.870
兑现诺言，你知道是否

00:08:43.280 --> 00:08:47.180
承诺的填充，我们知道

00:08:44.870 --> 00:08:49.070
如果那个承诺被准许

00:08:47.180 --> 00:08:51.230
因任何原因而失败，那么我们知道

00:08:49.070 --> 00:08:52.910
该许可被拒绝，这也是

00:08:51.230 --> 00:08:54.350
一个好地方，例如，如果您想要

00:08:52.910 --> 00:08:56.300
你想区别

00:08:54.350 --> 00:08:57.830
您知道用户是否订阅

00:08:56.300 --> 00:08:59.720
订阅和存储类似的单独内容

00:08:57.830 --> 00:09:01.580
您知道数据库中的值

00:08:59.720 --> 00:09:03.260
订阅标志之类的东西

00:09:01.580 --> 00:09:04.940
您可以在这些处理程序中执行此操作

00:09:03.260 --> 00:09:07.810
但就我们而言，我们只是要

00:09:04.940 --> 00:09:10.640
提示用户，然后他们说是

00:09:07.810 --> 00:09:12.290
然后我们基于火的消息元素

00:09:10.640 --> 00:09:14.930
会得到一个魔术般的令牌

00:09:12.290 --> 00:09:16.520
这就是其内部运作方式

00:09:14.930 --> 00:09:17.540
履行此firebase文件

00:09:16.520 --> 00:09:19.220
元素，以便将其写入到我们的

00:09:17.540 --> 00:09:20.690
数据库，我们实际上将能够

00:09:19.220 --> 00:09:22.670
去检查数据库以验证

00:09:20.690 --> 00:09:24.020
一切都按预期进行

00:09:22.670 --> 00:09:26.360
我想在这里做的最后一件事是

00:09:24.020 --> 00:09:28.310
实现此句柄消息方法，以便

00:09:26.360 --> 00:09:31.430
这将在我们收到时运行

00:09:28.310 --> 00:09:32.750
来自服务器的通知，因此在我们的

00:09:31.430 --> 00:09:34.310
案例，因为我们正在努力

00:09:32.750 --> 00:09:36.200
又快又脏我实际上不去

00:09:34.310 --> 00:09:37.850
做很多事情，但是你可以

00:09:36.200 --> 00:09:39.530
通常您知道显示像

00:09:37.850 --> 00:09:41.600
吐司或类似的通知

00:09:39.530 --> 00:09:44.300
在桌面网站上的用户，但我

00:09:41.600 --> 00:09:47.300
只是去console.log那一条消息

00:09:44.300 --> 00:09:50.480
已收到，我们将直接注销

00:09:47.300 --> 00:09:52.520
应该给我们的争论

00:09:50.480 --> 00:09:54.650
有点像数据对象显示

00:09:52.520 --> 00:09:56.150
我们该通知的内容

00:09:54.650 --> 00:09:58.790
很酷的事情是，如果您正在

00:09:56.150 --> 00:10:00.200
像移动Chrome这样的移动设备

00:09:58.790 --> 00:10:01.760
实际上会将此通知作为

00:10:00.200 --> 00:10:03.890
进来只会出现在用户中

00:10:01.760 --> 00:10:05.570
系统托盘自动连您都不需要

00:10:03.890 --> 00:10:06.910
真的需要做任何代码来做到这一点

00:10:05.570 --> 00:10:09.500
发生的事情真是太棒了

00:10:06.910 --> 00:10:11.420
实际上我们需要做的最后一件事

00:10:09.500 --> 00:10:13.820
要做的是我们需要创建一个服务工

00:10:11.420 --> 00:10:15.500
可以与Firebase消息一起使用

00:10:13.820 --> 00:10:17.090
并得到那些推动

00:10:15.500 --> 00:10:19.070
通知，即使用户不是

00:10:17.090 --> 00:10:21.110
目前正在将此应用视为

00:10:19.070 --> 00:10:23.420
他们的活动标签，所以如果我们去看看

00:10:21.110 --> 00:10:26.660
在我们的文档中，它告诉我们

00:10:23.420 --> 00:10:31.340
应该有一个firebase消息swgs 

00:10:26.660 --> 00:10:34.040
文件，因此请创建该新文件，然后

00:10:31.340 --> 00:10:39.020
该文件的内容链接到

00:10:34.040 --> 00:10:40.130
这些fcm文档，我们去了

00:10:39.020 --> 00:10:41.420
从早先复制了此代码，但

00:10:40.130 --> 00:10:43.880
基本上我们在做的是

00:10:41.420 --> 00:10:45.710
导入firebase应用javascript 

00:10:43.880 --> 00:10:47.810
文件或导入Firebase消息传递

00:10:45.710 --> 00:10:49.640
 JavaScript我们需要这两个小东西

00:10:47.810 --> 00:10:51.530
库，以便我们的服务人员可以

00:10:49.640 --> 00:10:53.180
正确使用Firebase服务，以及

00:10:51.530 --> 00:10:55.580
那我们就叫这个方法

00:10:53.180 --> 00:10:57.500
初始化应用程序，我们给我们消息

00:10:55.580 --> 00:10:59.690
发件人ID，如果您还记得我们

00:10:57.500 --> 00:11:01.730
复制出我们的项目控制台

00:10:59.690 --> 00:11:03.650
之前，然后我们有这个

00:11:01.730 --> 00:11:05.420
我们只是在消息传递属性

00:11:03.650 --> 00:11:06.860
对我们的基本点消息说

00:11:05.420 --> 00:11:07.600
就像踢开东西， 

00:11:06.860 --> 00:11:10.930
得到的东西

00:11:07.600 --> 00:11:12.910
运行，我认为在这一点上我们可能

00:11:10.930 --> 00:11:14.410
做好准备并做好测试准备

00:11:12.910 --> 00:11:16.660
这东西手指越过这

00:11:14.410 --> 00:11:20.440
第一次尝试工作，所以我要

00:11:16.660 --> 00:11:23.170
运行firebase服务，将启动

00:11:20.440 --> 00:11:25.589
小本地项目，所以我们将继续

00:11:23.170 --> 00:11:32.410
这里的一个项目可以刷新页面

00:11:25.589 --> 00:11:33.130
很酷的嗯，让我们看看我认为我们不见了

00:11:32.410 --> 00:11:35.800
这里的东西

00:11:33.130 --> 00:11:37.300
哦，如果我们加入

00:11:35.800 --> 00:11:39.759
我们其余部分的订阅元素

00:11:37.300 --> 00:11:44.370
项目，请返回到我的应用，确保

00:11:39.759 --> 00:11:47.860
我们已经导入了我的订阅

00:11:44.370 --> 00:11:49.089
订阅人，我完全是我知道我是

00:11:47.860 --> 00:11:50.889
没有在某处拼写这个东西

00:11:49.089 --> 00:11:52.600
但我要开机看看

00:11:50.889 --> 00:11:55.269
会发生什么，所以我会掉进去

00:11:52.600 --> 00:11:57.880
订阅元素正确，可以新鲜

00:11:55.269 --> 00:11:59.769
页面是好的，我们有一个纸张切换

00:11:57.880 --> 00:12:02.139
按钮，以便用户点击

00:11:59.769 --> 00:12:04.959
复选框，要求他们嘿我能拿到你吗

00:12:02.139 --> 00:12:07.240
许可，我们说啊哈，这就是

00:12:04.959 --> 00:12:08.800
给我们这个大巧的令牌

00:12:07.240 --> 00:12:10.839
记得我们回去看看

00:12:08.800 --> 00:12:12.670
用户的我的订阅元素

00:12:10.839 --> 00:12:14.380
收到他们的令牌，我只是

00:12:12.670 --> 00:12:16.329
喜欢将其写入页面，这样我们就可以

00:12:14.380 --> 00:12:19.630
用它来卷曲，所以我要复制所有

00:12:16.329 --> 00:12:22.990
此文本有点像

00:12:19.630 --> 00:12:26.620
在那边，抓住那所有的东西

00:12:22.990 --> 00:12:27.610
去得到所有这些，让我们看看是否

00:12:26.620 --> 00:12:29.649
看一下我们的Firebase控制台，我们可以

00:12:27.610 --> 00:12:32.829
实际上在数据库中看到

00:12:29.649 --> 00:12:34.209
用户已经建立，他们有一个

00:12:32.829 --> 00:12:35.470
已写入到的令牌

00:12:34.209 --> 00:12:37.990
对他们来说数据库很不错

00:12:35.470 --> 00:12:40.149
所以我要做的最后一件事是

00:12:37.990 --> 00:12:42.490
我将使用curl进行模拟

00:12:40.149 --> 00:12:45.279
现在可以正常向该用户发送消息

00:12:42.490 --> 00:12:47.800
你可能会在你的身上做这项工作

00:12:45.279 --> 00:12:49.899
服务器端基于像一些用户

00:12:47.800 --> 00:12:51.459
你知道的动作，但我们只是要

00:12:49.899 --> 00:12:53.740
从控制台在这里进行测试

00:12:51.459 --> 00:12:55.959
一切正常，我已经保存了

00:12:53.740 --> 00:12:57.040
此通知文件已经存在，因为

00:12:55.959 --> 00:12:59.199
我们有很多代码

00:12:57.040 --> 00:13:00.459
写作以使这项工作，我要去

00:12:59.199 --> 00:13:01.750
将所有这些代码发布在github上

00:13:00.459 --> 00:13:03.250
之后，您不必尝试

00:13:01.750 --> 00:13:05.560
喜欢记住所有这些或将其复制下来

00:13:03.250 --> 00:13:07.750
用手，我们将使用curl和

00:13:05.560 --> 00:13:09.459
我们要去这里，我将关闭

00:13:07.750 --> 00:13:11.350
侧边栏使此操作更容易

00:13:09.459 --> 00:13:13.329
好的，所以要使用curl，我们要

00:13:11.350 --> 00:13:15.490
用我们的授权密钥传递标题

00:13:13.329 --> 00:13:17.500
所以记得较早的差距

00:13:15.490 --> 00:13:20.019
我将从Firebase控制台中取出两个键

00:13:17.500 --> 00:13:21.480
回去，所以你可以在这里看到，让我们

00:13:20.019 --> 00:13:23.829
看到我们去我们的项目设置

00:13:21.480 --> 00:13:25.990
有一个云消息，所以有两个

00:13:23.829 --> 00:13:28.209
密钥在这里，这真的是很长的服务器密钥

00:13:25.990 --> 00:13:30.579
还有我们的炭渣ID，所以我需要

00:13:28.209 --> 00:13:31.959
这个非常长的服务器密钥，我

00:13:30.579 --> 00:13:35.170
将通过作为我的授权

00:13:31.959 --> 00:13:37.480
键入这种卷曲头，以便

00:13:35.170 --> 00:13:40.660
这是第一部分吗？ 

00:13:37.480 --> 00:13:42.670
永远长存，我们去，所以我们

00:13:40.660 --> 00:13:43.749
需要您有另一个标头

00:13:42.670 --> 00:13:46.839
我们将要说的内容类型

00:13:43.749 --> 00:13:48.249
它是应用程序JSON，我将其修补到D 

00:13:46.839 --> 00:13:49.959
标记告诉我们要通过一些

00:13:48.249 --> 00:13:51.519
数据和我们发送的数据

00:13:49.959 --> 00:13:53.379
抱歉，这有点难以阅读

00:13:51.519 --> 00:13:56.350
但是我们发送的数据是

00:13:53.379 --> 00:13:58.929
具有两个值和两个的对象

00:13:56.350 --> 00:14:01.540
价值将成为我们用户的象征

00:13:58.929 --> 00:14:04.809
这里真的很长

00:14:01.540 --> 00:14:06.490
如果我可以帮助识别他们的设备

00:14:04.809 --> 00:14:07.600
记得正确，所以必须确保

00:14:06.490 --> 00:14:10.649
我们将其发送到右侧

00:14:07.600 --> 00:14:14.139
设备，所以一直到最后

00:14:10.649 --> 00:14:16.240
粘贴该令牌对，是的

00:14:14.139 --> 00:14:18.040
检查是的，然后我们发送

00:14:16.240 --> 00:14:20.110
他们一个通知对象，所以这可以

00:14:18.040 --> 00:14:22.389
有一个标题字段，你知道吗

00:14:20.110 --> 00:14:24.369
只是问好世界和身体对象

00:14:22.389 --> 00:14:26.439
只会说这是一个通知， 

00:14:24.369 --> 00:14:29.110
我们通过的最后一块是这种

00:14:26.439 --> 00:14:31.299
一样的地址-fcm，所以我们要

00:14:29.110 --> 00:14:34.449
抓住所有这些，我们将要去

00:14:31.299 --> 00:14:37.600
我们的控制台在这里有一个新标签

00:14:34.449 --> 00:14:38.529
在运行它，所以我们应该得到

00:14:37.600 --> 00:14:41.860
看起来像这样的东西

00:14:38.529 --> 00:14:44.410
说你知道迄今为止成功的一件好事

00:14:41.860 --> 00:14:46.329
回到我们的项目，我们可以在这里看到

00:14:44.410 --> 00:14:47.829
现在在我们的航站楼我会在这里

00:14:46.329 --> 00:14:49.899
促进这一点，所以很明显

00:14:47.829 --> 00:14:51.759
我们收到了一条消息

00:14:49.899 --> 00:14:54.189
所以请记住我们是控制台记录我们的

00:14:51.759 --> 00:14:55.809
消息已收到我

00:14:54.189 --> 00:14:58.509
要看对象看

00:14:55.809 --> 00:15:00.610
发出通知并可以看到通知

00:14:58.509 --> 00:15:01.990
是我们通知的内容，所以

00:15:00.610 --> 00:15:04.439
是的，如果您想告诉您的用户

00:15:01.990 --> 00:15:07.449
嘿，你赢得了一场精彩的比赛

00:15:04.439 --> 00:15:10.809
您可以做1000只免费充气鸭子

00:15:07.449 --> 00:15:13.720
使用那个对象，那是

00:15:10.809 --> 00:15:16.899
使用设置通知的基础

00:15:13.720 --> 00:15:19.240
聚合物火又是一个合理的数字

00:15:16.899 --> 00:15:21.009
的步骤，但说实话比做

00:15:19.240 --> 00:15:22.959
 JavaScript本身就是

00:15:21.009 --> 00:15:24.939
一个简单得多的方法，所以我

00:15:22.959 --> 00:15:25.959
强烈建议大家尝试一下

00:15:24.939 --> 00:15:27.429
您对我们的工作有任何疑问

00:15:25.959 --> 00:15:29.230
今天一如既往可以把它们留给我

00:15:27.429 --> 00:15:30.309
放下评论，否则你可以打我

00:15:29.230 --> 00:15:32.649
在您选择的社交网络上

00:15:30.309 --> 00:15:34.209
在标签上问帕尔默一如既往的感谢

00:15:32.649 --> 00:15:36.290
你这么多看我会见你

00:15:34.209 --> 00:15:38.540
下次

00:15:36.290 --> 00:15:41.070
 [音乐] 

00:15:38.540 --> 00:15:42.510
嘿，人们怎么了，罗伯，谢谢

00:15:41.070 --> 00:15:44.370
如果看这集，那么多

00:15:42.510 --> 00:15:46.380
你想看到更多我们得到一些

00:15:44.370 --> 00:15:47.250
那边的播放列表和

00:15:46.380 --> 00:15:49.050
总是你可以点击一点

00:15:47.250 --> 00:15:50.520
订阅按钮以保持获取内容

00:15:49.050 --> 00:15:52.360
每次我们将其推送到渠道时

00:15:50.520 --> 00:15:55.460
再次非常感谢您的收看

00:15:52.360 --> 00:15:55.460
 [音乐] 

