WEBVTT
Kind: captions
Language: zh-Hans

00:00:03.410 --> 00:00:07.950
嘿，今天有播客在这里抢劫

00:00:06.299 --> 00:00:10.050
我们要看的节目

00:00:07.950 --> 00:00:12.030
您是否测试需要Ajax的元素

00:00:10.050 --> 00:00:14.490
通过网络与他们的后端交谈

00:00:12.030 --> 00:00:16.350
毫无意义的组​​件测试器

00:00:14.490 --> 00:00:18.420
我今天回到节目中，我们将成为

00:00:16.350 --> 00:00:20.250
继续我们关于Web组件的系列

00:00:18.420 --> 00:00:23.310
通过查看如何测试来测试

00:00:20.250 --> 00:00:26.039
您现在需要Ajax的元素

00:00:23.310 --> 00:00:27.960
查看网络文档

00:00:26.039 --> 00:00:30.630
组件测试仪，您将在此处看到

00:00:27.960 --> 00:00:33.239
顶部有一个库列表， 

00:00:30.630 --> 00:00:35.160
附带了Web组件测试器本身，因此

00:00:33.239 --> 00:00:37.860
我们有摩卡咖啡，这是我们的测试

00:00:35.160 --> 00:00:39.360
框架，我们有柴，这是我们的

00:00:37.860 --> 00:00:41.610
断言库，我们将要讨论

00:00:39.360 --> 00:00:43.860
关于这一点，我们有一个水槽， 

00:00:41.610 --> 00:00:45.210
 Lu-这些只是图书馆

00:00:43.860 --> 00:00:47.100
它们可以帮助我们完成类似的实用程序

00:00:45.210 --> 00:00:50.640
诸如管理回调并执行

00:00:47.100 --> 00:00:53.160
花哨的功能性的东西，最后我们已经

00:00:50.640 --> 00:00:56.430
罪恶加重了一点

00:00:53.160 --> 00:00:58.949
可以模拟xhr请求的库

00:00:56.430 --> 00:01:00.120
创建假服务器实际上可以做任何事情

00:00:58.949 --> 00:01:02.370
你想做的话

00:01:00.120 --> 00:01:05.010
模拟实际的服务器，而不是

00:01:02.370 --> 00:01:06.659
比起创建一些全新的品牌

00:01:05.010 --> 00:01:08.340
组件或类似的东西

00:01:06.659 --> 00:01:10.350
要写一个单元测试

00:01:08.340 --> 00:01:12.270
预先存在的元素，所以我实际上

00:01:10.350 --> 00:01:14.430
将使用其中一个聚合物团队

00:01:12.270 --> 00:01:16.229
元素铁阿贾克斯，我要

00:01:14.430 --> 00:01:17.850
为此编写测试，这样我

00:01:16.229 --> 00:01:20.780
不必像古怪一样提出

00:01:17.850 --> 00:01:23.759
人为的例子，因为我很懒

00:01:20.780 --> 00:01:27.030
我将在测试文件中做什么

00:01:23.759 --> 00:01:29.150
通过进口铁阿贾克斯关闭，然后我

00:01:27.030 --> 00:01:31.170
要为它写一些测试夹具

00:01:29.150 --> 00:01:33.960
所以在这个测试夹具内

00:01:31.170 --> 00:01:35.549
我正在打电话给Iron Ajax或我有一个

00:01:33.960 --> 00:01:39.270
小铁Ajax标签，我应该说和

00:01:35.549 --> 00:01:42.270
它的URL设置为响应

00:01:39.270 --> 00:01:44.250
 JSON没问题，然后我

00:01:42.270 --> 00:01:46.829
会创造出可以

00:01:44.250 --> 00:01:49.140
举行我所有的单元测试，所以我只是

00:01:46.829 --> 00:01:50.430
这么称呼我的甜铁阿贾克斯

00:01:49.140 --> 00:01:51.960
有点像一般的事情

00:01:50.430 --> 00:01:54.030
我要创造一些全球性的

00:01:51.960 --> 00:01:56.670
这里的变量只是

00:01:54.030 --> 00:01:58.500
跟踪铁的Ajax标签

00:01:56.670 --> 00:02:00.119
请求者，我们正在将其发送出去

00:01:58.500 --> 00:02:03.149
发送到我们要设置的服务器上

00:02:00.119 --> 00:02:05.250
在那之后没有什么太花哨的

00:02:03.149 --> 00:02:07.590
创建后，我将调用设置函数

00:02:05.250 --> 00:02:10.440
这就是我要去的地方

00:02:07.590 --> 00:02:12.810
开始在服务器上建立我的罪过，所以我会

00:02:10.440 --> 00:02:13.500
在伪造的服务器上调用sin就是

00:02:12.810 --> 00:02:15.570
会

00:02:13.500 --> 00:02:17.850
服务器的实例，然后我可以

00:02:15.570 --> 00:02:19.650
称这个方法和什么回应

00:02:17.850 --> 00:02:21.840
那基本上会让我做的

00:02:19.650 --> 00:02:24.180
我要假服务器执行的路由

00:02:21.840 --> 00:02:26.250
回应，所以我在这里说的是

00:02:24.180 --> 00:02:28.920
当有获取请求

00:02:26.250 --> 00:02:31.500
路由响应以获取我想要的JSON 

00:02:28.920 --> 00:02:33.240
它以状态码200 I响应

00:02:31.500 --> 00:02:35.040
希望它只是发回那些回复

00:02:33.240 --> 00:02:36.570
我在顶部创建的标题

00:02:35.040 --> 00:02:40.260
最后，我想寄回一点

00:02:36.570 --> 00:02:41.730
表示成功的JSON有效负载如此

00:02:40.260 --> 00:02:44.490
我已经把那件事摆平了

00:02:41.730 --> 00:02:46.709
我要做的是制造一些拆卸

00:02:44.490 --> 00:02:49.080
功能以及此拆卸功能

00:02:46.709 --> 00:02:51.030
我要告诉服务器还原

00:02:49.080 --> 00:02:52.620
本身基本上意味着干净

00:02:51.030 --> 00:02:54.780
在你自己之后，你知道是否你

00:02:52.620 --> 00:02:57.030
创建全局变量（如果有） 

00:02:54.780 --> 00:02:58.770
共享状态之类的东西只要得到

00:02:57.030 --> 00:03:02.100
摆脱这些，当我们运行下一个测试时

00:02:58.770 --> 00:03:03.330
这将是一个很好的干净的板岩好吧，所以我

00:03:02.100 --> 00:03:04.650
得到平方，现在我可以写

00:03:03.330 --> 00:03:07.350
实际上将容纳我的套房

00:03:04.650 --> 00:03:10.950
在这里的单元测试，我将称之为

00:03:07.350 --> 00:03:13.260
设置功能我要进行测试

00:03:10.950 --> 00:03:15.870
夹具，并在该Ajax变量中看到它

00:03:13.260 --> 00:03:18.420
我创建的，我的第一个测试是

00:03:15.870 --> 00:03:20.340
只是要验证铁Ajax 

00:03:18.420 --> 00:03:21.989
请求出去了，我在

00:03:20.340 --> 00:03:23.610
得到回应，并且

00:03:21.989 --> 00:03:25.470
数据并且该响应看起来正确

00:03:23.610 --> 00:03:27.360
测试消息将被看到

00:03:25.470 --> 00:03:29.910
默认会爱你，因为它会

00:03:27.360 --> 00:03:33.480
爱你，所以我的请求对象去了

00:03:29.910 --> 00:03:35.400
调用Ajax生成请求，然后我

00:03:33.480 --> 00:03:36.330
可以只打电话给服务器点响应， 

00:03:35.400 --> 00:03:38.459
这是很酷的部分之一

00:03:36.330 --> 00:03:40.140
关于通常与Centon合作

00:03:38.459 --> 00:03:42.450
如果这就像一个真正的

00:03:40.140 --> 00:03:44.250
服务器，您必须等待一些时间

00:03:42.450 --> 00:03:47.040
时间设置一个事件监听器做一些

00:03:44.250 --> 00:03:48.780
有点像异步测试的东西

00:03:47.040 --> 00:03:50.549
在这里，我们可以将其视为

00:03:48.780 --> 00:03:51.720
它是同步的，真的很棒

00:03:50.549 --> 00:03:55.940
意味着我们的测试将会真的

00:03:51.720 --> 00:03:59.040
快速，之后我可以使用期望

00:03:55.940 --> 00:04:02.519
检查我得到的响应对象

00:03:59.040 --> 00:04:05.940
现在回到我使用断言的最后一个视频中

00:04:02.519 --> 00:04:09.330
这次要检查我的物品

00:04:05.940 --> 00:04:10.860
使用xpect基本上是因为

00:04:09.330 --> 00:04:12.690
使用柴，我们有一些不同

00:04:10.860 --> 00:04:14.190
我们可以使用的断言类型

00:04:12.690 --> 00:04:15.600
不同的断言库，如果您

00:04:14.190 --> 00:04:17.340
我可以去看看吗

00:04:15.600 --> 00:04:19.080
尝试的文档也许我应该

00:04:17.340 --> 00:04:21.930
像提示链接到那个东西

00:04:19.080 --> 00:04:23.849
期待另一种断言

00:04:21.930 --> 00:04:25.110
真的没有什么不同

00:04:23.849 --> 00:04:26.870
这样做是我们首先要检查

00:04:25.110 --> 00:04:29.360
回应哦

00:04:26.870 --> 00:04:31.880
好的，那意味着那不是

00:04:29.360 --> 00:04:34.010
错误不是，我们还回来了

00:04:31.880 --> 00:04:35.330
我们正在检查这是一个对象正确

00:04:34.010 --> 00:04:37.220
这就是我们期望看到的

00:04:35.330 --> 00:04:40.699
最后，我们正在检查是否成功

00:04:37.220 --> 00:04:42.830
属性设置为true好的，看起来

00:04:40.699 --> 00:04:45.440
对我来说，让我们切换到

00:04:42.830 --> 00:04:49.130
终端，我们将运行WCT 

00:04:45.440 --> 00:04:52.850
命令一切都好

00:04:49.130 --> 00:04:54.199
事情正在发生，我们得到了我们的

00:04:52.850 --> 00:04:55.310
胸部挺好

00:04:54.199 --> 00:04:58.100
一切都是绿色的

00:04:55.310 --> 00:05:00.979
好，我想再做一些测试

00:04:58.100 --> 00:05:02.360
尽管我想测试发布请求，所以

00:05:00.979 --> 00:05:05.210
我要创建一个全新的测试

00:05:02.360 --> 00:05:07.220
夹具，这次我再次使用

00:05:05.210 --> 00:05:10.880
我正在发送方法的铁Ajax元素

00:05:07.220 --> 00:05:12.710
发布，URL是对发布的响应

00:05:10.880 --> 00:05:14.930
就像我们一样

00:05:12.710 --> 00:05:17.600
获取请求，我们将建立一条路线

00:05:14.930 --> 00:05:19.699
假服务器上的罪恶，所以我们要

00:05:17.600 --> 00:05:22.039
说我们想听帖子

00:05:19.699 --> 00:05:23.660
请求路线回复

00:05:22.039 --> 00:05:26.150
 JSON，当我听到它

00:05:23.660 --> 00:05:27.860
应该发回200个相同的回复

00:05:26.150 --> 00:05:30.020
标头为上次，这一次

00:05:27.860 --> 00:05:34.490
它发回的对象会说发贴

00:05:30.020 --> 00:05:37.910
我们的测试在这里的要求是真实的

00:05:34.490 --> 00:05:41.150
我会写一个全新的套件mm-hm 

00:05:37.910 --> 00:05:43.599
用于发出简单的帖子请求

00:05:41.150 --> 00:05:46.880
第一次测试我实际上只是去

00:05:43.599 --> 00:05:49.910
验证当我将该方法设置为

00:05:46.880 --> 00:05:52.310
发布实际上是在设置

00:05:49.910 --> 00:05:53.690
 xhr方法，所以我什至不称罪过

00:05:52.310 --> 00:05:54.889
在这里，我只是在验证

00:05:53.690 --> 00:05:57.440
引擎盖的功能是什么

00:05:54.889 --> 00:05:59.539
期望在那之后我会继续前进

00:05:57.440 --> 00:06:03.050
并实际上对现在发送的服务器执行ping操作

00:05:59.539 --> 00:06:06.080
我将测试响应是否为

00:06:03.050 --> 00:06:08.990
好吧，我要测试这是一个

00:06:06.080 --> 00:06:11.720
对象，为什么不测试该帖子

00:06:08.990 --> 00:06:13.910
成功等于正确的权利，让我们

00:06:11.720 --> 00:06:17.979
切换到我们的终端，我们将运行

00:06:13.910 --> 00:06:23.479
 Web组件测试器，我们将等待

00:06:17.979 --> 00:06:24.680
等待事情发生的好，所以

00:06:23.479 --> 00:06:25.639
我们所有的测试都通过了

00:06:24.680 --> 00:06:28.669
一切都是绿色的

00:06:25.639 --> 00:06:29.990
现在如果那些测试没有通过怎么办

00:06:28.669 --> 00:06:31.370
他们如果其中之一失败了怎么办

00:06:29.990 --> 00:06:33.050
如果就像一个浏览器一样怎么办

00:06:31.370 --> 00:06:35.180
失败或类似的事情

00:06:33.050 --> 00:06:37.400
我们要做的就是我要去的地方

00:06:35.180 --> 00:06:38.780
在我们这里向您展示一些技巧

00:06:37.400 --> 00:06:39.590
运行Web组件测试器命令

00:06:38.780 --> 00:06:42.620
可以通过

00:06:39.590 --> 00:06:44.210
 -PFLAG，这将要做的是

00:06:42.620 --> 00:06:46.700
它将离开所有浏览器

00:06:44.210 --> 00:06:48.650
窗户打开了，这真的很有用

00:06:46.700 --> 00:06:50.810
因为这意味着我们可以打开

00:06:48.650 --> 00:06:51.980
这些不同的浏览器的控制台，我们

00:06:50.810 --> 00:06:53.900
可以检查他们，如果有

00:06:51.980 --> 00:06:56.000
他们会出现的错误，所以

00:06:53.900 --> 00:06:58.430
在这里，我有Firefox，我要放大

00:06:56.000 --> 00:07:00.230
我要打开Firefox开发工具

00:06:58.430 --> 00:07:03.320
我将对此进行增强，您会看到

00:07:00.230 --> 00:07:04.880
我的测试列在这里，但是

00:07:03.320 --> 00:07:07.250
如果有任何错误，他们会显示

00:07:04.880 --> 00:07:09.410
那里也很漂亮

00:07:07.250 --> 00:07:11.870
很有帮助的小功能

00:07:09.410 --> 00:07:12.980
涵盖了用Ajax进行犯罪测试

00:07:11.870 --> 00:07:14.900
实际上还有更多可以

00:07:12.980 --> 00:07:16.850
与罪恶有关，但我肯定给了

00:07:14.900 --> 00:07:17.990
你足够开始，有很多

00:07:16.850 --> 00:07:19.520
我想用网络介绍的更多内容

00:07:17.990 --> 00:07:21.110
组件测试器，如果有的话

00:07:19.520 --> 00:07:23.060
您感兴趣的细分

00:07:21.110 --> 00:07:24.560
看到下面请留下评论

00:07:23.060 --> 00:07:26.330
这样我们可以尝试做一些

00:07:24.560 --> 00:07:28.130
这些情节发生也要考虑

00:07:26.330 --> 00:07:29.780
单击类似按钮或

00:07:28.130 --> 00:07:31.340
如果您真的爱我，请订阅按钮

00:07:29.780 --> 00:07:32.480
如果您有任何疑问，可以

00:07:31.340 --> 00:07:34.910
在您的社交网络上ping我们

00:07:32.480 --> 00:07:35.780
选择在标签询问聚合物作为

00:07:34.910 --> 00:07:39.860
一直非常感谢您的收看

00:07:35.780 --> 00:07:46.690
下次再见，再把手机的

00:07:39.860 --> 00:07:46.690
哥谭需要我

