WEBVTT
Kind: captions
Language: en

00:00:00.000 --> 00:00:01.984
[MUSIC PLAYING]

00:00:20.370 --> 00:00:22.740
I say, it's time
for "Supercharged."

00:00:22.740 --> 00:00:23.620
My name is Paul.

00:00:23.620 --> 00:00:25.163
And I'm here to help, you know?

00:00:25.163 --> 00:00:25.822
Mhm, yes.

00:00:25.822 --> 00:00:26.905
Welcome to "Supercharged."

00:00:26.905 --> 00:00:27.656
I'm Paul.

00:00:27.656 --> 00:00:29.530
This is the show where
you submit your sites,

00:00:29.530 --> 00:00:32.071
I go through them, and I try to
find the performance problems

00:00:32.071 --> 00:00:33.590
and recommend some fixes.

00:00:33.590 --> 00:00:35.823
Now, today, I've
got "The Guardian."

00:00:35.823 --> 00:00:37.565
I have spoken with
them before, and I

00:00:37.565 --> 00:00:39.690
know they actually do a
really good job with things

00:00:39.690 --> 00:00:41.270
like inlining and so on.

00:00:41.270 --> 00:00:43.520
But we're going to run it
through Webpage Test anyway,

00:00:43.520 --> 00:00:44.610
first view only.

00:00:44.610 --> 00:00:48.920
I'm going to run it on mobile
3G with a Nexus 5.0 this time,

00:00:48.920 --> 00:00:49.605
and Chrome.

00:00:52.680 --> 00:00:54.430
It's like watching paint dry.

00:00:54.430 --> 00:00:55.977
Welcome to "Supercharged."

00:00:55.977 --> 00:00:59.230
I say, this test is
taking rather a long time.

00:00:59.230 --> 00:01:01.690
Making people wait their turn.

00:01:01.690 --> 00:01:02.972
Do you know who I am?

00:01:02.972 --> 00:01:05.180
You'll prioritize me if you
know what's good for you.

00:01:05.180 --> 00:01:09.082
So we've got the web page
test result, which looks good.

00:01:09.082 --> 00:01:10.290
And I tell you what we'll do.

00:01:10.290 --> 00:01:11.890
We'll dive into
the filmstrip view

00:01:11.890 --> 00:01:14.030
because that's always good fun.

00:01:14.030 --> 00:01:17.820
I noticed that the speed
index was about 6,700.

00:01:17.820 --> 00:01:21.490
And so I would expect something
for, like, the gold standard

00:01:21.490 --> 00:01:23.920
to be somewhere
around the 3,000 mark.

00:01:23.920 --> 00:01:26.370
I mean, give or take.

00:01:26.370 --> 00:01:28.410
Now, as I scroll
to the left, we're

00:01:28.410 --> 00:01:31.510
sort of a blank white screen
for about 4 and 1/2 seconds.

00:01:31.510 --> 00:01:33.440
And then at five
seconds, we're actually

00:01:33.440 --> 00:01:35.980
starting to see page content.

00:01:35.980 --> 00:01:38.390
Now, because if we
look at the bottom,

00:01:38.390 --> 00:01:40.620
we can see that
there's still the HTML.

00:01:40.620 --> 00:01:42.290
And that's coming in.

00:01:42.290 --> 00:01:43.720
And as we get to
the end of that,

00:01:43.720 --> 00:01:45.310
we actually start to see render.

00:01:45.310 --> 00:01:47.737
So that means they
are inlining styles.

00:01:47.737 --> 00:01:50.070
Because the only way we could
get to the end of the HTML

00:01:50.070 --> 00:01:52.700
and start rendering is if
there's some inline styles.

00:01:52.700 --> 00:01:56.410
So that's a really good thing.

00:01:56.410 --> 00:01:58.690
Print css?

00:01:58.690 --> 00:01:59.650
I'm on a phone.

00:01:59.650 --> 00:02:01.310
I don't expect to print.

00:02:01.310 --> 00:02:02.210
It's a minor thing.

00:02:02.210 --> 00:02:04.422
It is extremely minor
because it's only 2.9K.

00:02:04.422 --> 00:02:06.130
But it is a connection
that we're making.

00:02:06.130 --> 00:02:08.100
And I wonder whether
that needs to be made.

00:02:08.100 --> 00:02:09.870
But that's throw away.

00:02:09.870 --> 00:02:11.522
I wouldn't even worry about it.

00:02:11.522 --> 00:02:13.230
You know, unless you're
worried about it.

00:02:13.230 --> 00:02:14.560
If you're worried
about it, do something.

00:02:14.560 --> 00:02:16.393
But don't-- I'm not
saying you should worry.

00:02:16.393 --> 00:02:17.190
I'm not worried.

00:02:17.190 --> 00:02:20.310
That HTML does look quite large.

00:02:20.310 --> 00:02:22.000
It's 83K.

00:02:22.000 --> 00:02:26.320
83K, you know, that
will be gzipped as well.

00:02:26.320 --> 00:02:29.600
So that's a fair amount
to be sending down

00:02:29.600 --> 00:02:31.695
as the initial burst of content.

00:02:35.400 --> 00:02:36.910
Even though they're
inline styles,

00:02:36.910 --> 00:02:38.368
I wonder whether
it would be better

00:02:38.368 --> 00:02:40.440
to actually send down
less HTML and then

00:02:40.440 --> 00:02:42.590
use Ajax to pull things in.

00:02:42.590 --> 00:02:44.660
That might just boost
things a tiny amount.

00:02:44.660 --> 00:02:48.990
Let's actually have a
look at the HTML Itself.

00:02:48.990 --> 00:02:49.940
Hey!

00:02:49.940 --> 00:02:51.100
They're hiring too.

00:02:51.100 --> 00:02:52.370
Bit of an advert in there.

00:02:52.370 --> 00:02:54.925
Busted that wide open for you.

00:02:54.925 --> 00:02:56.550
This looks like our
inline styles here.

00:02:56.550 --> 00:02:58.330
OK, let's grab some of that.

00:02:58.330 --> 00:03:01.650
Because I am curious as to
how much of inline styling

00:03:01.650 --> 00:03:03.545
we are seeing-ing-ing.

00:03:03.545 --> 00:03:05.790
I'm going to try that
again in English.

00:03:05.790 --> 00:03:08.500
I'm wondering how much inline
styles we're actually seeing.

00:03:08.500 --> 00:03:09.690
So let me grab all this.

00:03:09.690 --> 00:03:11.084
It keeps on going.

00:03:11.084 --> 00:03:11.875
Going to copy that.

00:03:11.875 --> 00:03:15.140
What I'm going to do is I'm
going to fire up Sublime.

00:03:15.140 --> 00:03:17.500
And I'm going to paste it in.

00:03:17.500 --> 00:03:21.935
Let's save that on our
desktop as like, file.css.

00:03:24.660 --> 00:03:25.160
OK.

00:03:25.160 --> 00:03:26.451
So we've got the terminal open.

00:03:26.451 --> 00:03:29.410
So what we'll do is we will
go to my desktop where I saved

00:03:29.410 --> 00:03:37.580
that file and we'll do ls -
lah-- dash lah-- for file.css.

00:03:37.580 --> 00:03:41.220
And it is 179K of inline styles.

00:03:41.220 --> 00:03:43.460
But that's not fair
because what we should do

00:03:43.460 --> 00:03:46.430
is we should gzip file.css.

00:03:46.430 --> 00:03:49.317
This is all finger-in-the-air
kind of stuff.

00:03:49.317 --> 00:03:50.400
And let's see what we get.

00:03:50.400 --> 00:03:52.910
So ls - lah, and then
we'll just tab that up.

00:03:52.910 --> 00:03:53.530
And we'll go.

00:03:53.530 --> 00:03:55.220
OK, so it's 22K
when it's gzipped.

00:03:55.220 --> 00:03:56.780
So that's still quite small.

00:03:56.780 --> 00:04:01.070
But if you want to get something
inside the initial response

00:04:01.070 --> 00:04:05.020
from a server, it's got to be
in the first, I think, 14K or so

00:04:05.020 --> 00:04:08.110
to account for TCP slow start
and all that good stuff.

00:04:08.110 --> 00:04:10.970
So this is probably quite a
large amount of inline styles.

00:04:10.970 --> 00:04:12.760
But we have one other
trick up our sleeves

00:04:12.760 --> 00:04:14.250
here, which I will show you.

00:04:14.250 --> 00:04:16.170
Now, the credit for
this goes to Matt Gaunt,

00:04:16.170 --> 00:04:17.640
one of my colleagues.

00:04:17.640 --> 00:04:18.800
He came up with this.

00:04:18.800 --> 00:04:22.140
And it's based off the Filament
Group's loadcss library.

00:04:22.140 --> 00:04:25.420
What I've got here
is a bookmarklet

00:04:25.420 --> 00:04:28.640
which, when I click it, is going
to switch off any styles that

00:04:28.640 --> 00:04:31.420
have been loaded in remotely and
just leave the inline styles.

00:04:31.420 --> 00:04:33.440
What it does is it goes
through the stylesheets.

00:04:33.440 --> 00:04:37.170
And it switches off
the remote styles

00:04:37.170 --> 00:04:40.700
by just giving them a
media type that is rubbish.

00:04:40.700 --> 00:04:43.160
And it goes, well, these
don't apply anymore.

00:04:43.160 --> 00:04:44.050
A ridge.

00:04:44.050 --> 00:04:46.774
Let's just put it on the ridge.

00:04:46.774 --> 00:04:48.190
So this is what
it looks like when

00:04:48.190 --> 00:04:52.440
there are no remote styles,
just the inline styles applied.

00:04:52.440 --> 00:04:54.520
(WITH FUNNY ACCENT) Sonny,
in the United Kingdom,

00:04:54.520 --> 00:04:55.750
what is this?

00:04:55.750 --> 00:04:57.800
Global warming, you
see, climate change.

00:04:57.800 --> 00:05:03.350
And I mean, unless they're
doing work to undo these styles,

00:05:03.350 --> 00:05:08.540
it feels like the inline
styles that have been applied

00:05:08.540 --> 00:05:10.954
don't set the layout up.

00:05:10.954 --> 00:05:13.120
Now, it could be that there's
some other work that's

00:05:13.120 --> 00:05:15.320
gone on with the JavaScript
to change things around.

00:05:15.320 --> 00:05:18.920
But as a first pass, I would
be looking at this going, hmm.

00:05:18.920 --> 00:05:20.420
When I switch off
the remote styles,

00:05:20.420 --> 00:05:24.110
I want the inline styles to
be color blocks and layouts

00:05:24.110 --> 00:05:26.201
and stuff so that we stop
things moving around.

00:05:26.201 --> 00:05:28.450
But mainly, so that we can
get something up on screen.

00:05:28.450 --> 00:05:29.920
The whole point
of the inline css

00:05:29.920 --> 00:05:32.290
is, hopefully, to just
kind of bootstrap up

00:05:32.290 --> 00:05:34.700
that initial viewport
and get us going.

00:05:34.700 --> 00:05:36.717
So much for the page
load, then, which

00:05:36.717 --> 00:05:38.050
is actually really looking good.

00:05:38.050 --> 00:05:40.424
I think there are some tweaks
that they could potentially

00:05:40.424 --> 00:05:42.780
make to crush down
the inline styles

00:05:42.780 --> 00:05:47.730
and, you know, not
put so much in there,

00:05:47.730 --> 00:05:50.100
and put what is really
important in there,

00:05:50.100 --> 00:05:51.680
not just what seems important.

00:05:51.680 --> 00:05:53.390
What we'll do next
time is we'll actually

00:05:53.390 --> 00:05:55.960
dive into the performance
characteristics of things

00:05:55.960 --> 00:05:57.319
like this, scrolling and so on.

00:05:57.319 --> 00:05:58.360
So stick around for that.

00:05:58.360 --> 00:05:59.906
And I'll see you next time.

00:05:59.906 --> 00:06:01.530
I'm the only on camera
and the only one

00:06:01.530 --> 00:06:03.550
they let on camera these days.

00:06:03.550 --> 00:06:04.050
Take two.

00:06:04.050 --> 00:06:06.140
Or as I like to call it,
the professional cut.

00:06:06.140 --> 00:06:08.056
I think there's a point
on the top of my head.

00:06:08.056 --> 00:06:10.160
Paul Lewis, man boy.

